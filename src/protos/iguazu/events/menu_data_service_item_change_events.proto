syntax = "proto3";

package iguazu.events.v1;

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

option go_package = "github.com/doordash/services-protobuf/generated/iguazu/events";
option java_multiple_files = true;
option java_package = "com.doordash.iguazu.events.v1";

// Event for shadowing the events publish from flink mds with pkg streaming
message MenuItemChangeEventOfflineShadow {
  // store id of the event
  string store_menu_id = 1;

  // item id
  string item_id = 2;

  // menu id of the item
  string menu_id = 3;

  // link status between the item id and the menu id. possible values are: active (indicating the item is active and belongs to the menu), delete (indicating item is deactivated/ deleted from the menu)
  string link_status = 4;

  // timestamp when the event is created in menu data service
  google.protobuf.Timestamp source_event_published_time = 5;

  // timestamp from the server when the event is published to Kafka topic of menu item change. used to compare the publish time diff between the events that send to menu item change topic and send to the pkg streaming topic
  google.protobuf.Timestamp published_to_kafka_topic_time = 6;

  // corresponding item. generated by Proto.JsonPrinter
  string item = 7;

  // source of the event, flink-mds or pkg-serving-streaming
  string source = 8;
}
