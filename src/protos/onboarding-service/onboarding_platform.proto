syntax = "proto3";

package doordash_onboarding_service.v1;

import "common/common.proto";
import "common/date.proto";
import "common/service_client_config.proto";
import "doordash.api/annotations.proto";
import "doordash.api/field_validate.proto";
import "google/api/annotations.proto";
import "google/protobuf/struct.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";
import "onboarding-service/onboarding.proto";

option java_generic_services = true;
option java_multiple_files = true;
// buf:lint:ignore PACKAGE_SAME_JAVA_PACKAGE
option java_package = "com.doordash.rpc.onboarding_platform";

// Service used by Onboarding Platform Clients to integrate with Onboarding Platform
service OnboardingPlatformService {
  // The options not listed here use Hermes default.
  // The following applies for all RPCs in the service, if not overridden on individual RPCs.

  // Make a total 4 attempts (initial + three retries).
  option (service_client.client_config).retry_config.max_attempts = 4;

  // specify service
  option (doordash.api.service) = {
    name: "onboarding-service-web"
    name_spaces: ["onboarding"]
    port: 50051
    api_key_name: "ONBOARDING-SERVICE-API-KEY"
    owner: {
      id: "onboarding-service"
      name: "onboarding-service"
      slack_channel: "#ask-ssmo"
      email_alias: "mx-acquisition-eng@doordash.com"
    }
    target_products: [
      INTERNAL,
      MX
    ]
  };

  // Create Onboarding Record
  rpc CreateOnboardingRecord(CreateOnboardingRecordRequest) returns (CreateOnboardingRecordResponse) {
    option (google.api.http) = {
      // {HttpMethod}: "{pathPattern}"
      post: "/onboarding/v1/record"

      // Needed for post, patch, put methods. Omit for others.
      body: "*"
    };

    option (doordash.api.endpoint) = {
      tier: T2
      lifecycle: PROD
      authorization: [NONE]
      target_products: [
        INTERNAL,
        MX
      ]
      slo_config: {
        critical_alerts_enabled: true
        critical_5m_burn_threshold: 6000
        critical_5m_burn_sustain_seconds: 300
        p99_latency: 2
      }
    };
  }

  // Create Multi-loc Onboarding Record
  rpc CreateMultiLocOnboardingRecord(CreateMultiLocOnboardingRecordRequest) returns (CreateMultiLocOnboardingRecordResponse);

  // Identity Callback
  rpc IdentityCallback(IdentityCallbackRequest) returns (IdentityCallbackResponse);

  // Get all onboarding records
  rpc GetAllOnboardingRecords(GetAllOnboardingRecordsRequest) returns (GetAllOnboardingRecordsResponse);

  // Upsert onboarding solutions
  rpc UpsertOnboardingSolutions(UpsertOnboardingSolutionsRequest) returns (UpsertOnboardingSolutionsResponse);

  // Get onboarding record
  rpc GetSolutionOnboardingRecord(GetSolutionOnboardingRecordRequest) returns (GetSolutionOnboardingRecordResponse) {
    option (google.api.http) = {get: "/onboarding/v1/record/{onboarding_id}"};

    option (doordash.api.endpoint) = {
      tier: T2
      lifecycle: PROD
      authorization: [NONE]
      target_products: [
        INTERNAL,
        MX
      ]
      slo_config: {
        critical_alerts_enabled: true
        critical_5m_burn_threshold: 6000
        critical_5m_burn_sustain_seconds: 300
        p99_latency: 2
      }
    };
  }

  // Update onboarding record
  rpc UpdateSolutionOnboardingRecord(UpdateSolutionOnboardingRecordRequest) returns (UpdateSolutionOnboardingRecordResponse) {
    option (google.api.http) = {
      patch: "/onboarding/v1/record/{onboarding_id}"
      body: "*"
    };

    option (doordash.api.endpoint) = {
      tier: T2
      lifecycle: PROD
      authorization: [NONE]
      target_products: [
        INTERNAL,
        MX
      ]
      slo_config: {
        critical_alerts_enabled: true
        critical_5m_burn_threshold: 6000
        critical_5m_burn_sustain_seconds: 300
        p99_latency: 2
      }
    };
  }

  // Finish onboarding record
  rpc FinishSolutionOnboardingRecord(FinishSolutionOnboardingRecordRequest) returns (FinishSolutionOnboardingRecordResponse) {
    option (google.api.http) = {post: "/onboarding/v1/record/{onboarding_id}/finish"};

    option (doordash.api.endpoint) = {
      tier: T2
      lifecycle: PROD
      authorization: [NONE]
      target_products: [
        INTERNAL,
        MX
      ]
      slo_config: {
        critical_alerts_enabled: true
        critical_5m_burn_threshold: 6000
        critical_5m_burn_sustain_seconds: 300
        p99_latency: 2
      }
    };
  }

  // Menu Upload by Onboarding uuid
  rpc UploadMenuFiles(UploadMenuFilesRequest) returns (UploadMenuFilesResponse);

  // Delete menu by menu uuid
  rpc DeleteMenuFiles(DeleteMenuFilesRequest) returns (DeleteMenuFilesResponse);

  // Get menu link by menu uuid
  rpc GetMenuLink(GetMenuLinkRequest) returns (GetMenuLinkResponse);

  // Get stripe secret
  rpc GetStripeClientSecret(GetStripeClientSecretRequest) returns (GetStripeClientSecretResponse);

  // list Solution Onboarding Records
  rpc ListSolutionOnboardingRecords(ListSolutionOnboardingRecordsRequest) returns (ListSolutionOnboardingRecordsResponse) {
    option (google.api.http) = {get: "/onboarding/v1/records/list"};

    option (doordash.api.endpoint) = {
      tier: T2
      lifecycle: PROD
      authorization: [DD_EMPLOYEE]
      target_products: [INTERNAL]
      slo_config: {
        critical_alerts_enabled: true
        critical_5m_burn_threshold: 6000
        critical_5m_burn_sustain_seconds: 300
        p99_latency: 2
      }
    };
  }

  // Get Packages By Country and Submarket Id
  rpc GetPackagesByCountryAndSubmarket(GetPackagesByCountryAndSubmarketRequest) returns (GetPackagesByCountryAndSubmarketResponse);

  // Bulk API for CreateMultiLocOnboardingRecord
  rpc BulkCreateMultiLocOnboardingRecord(BulkCreateMultiLocOnboardingRecordRequest) returns (BulkCreateMultiLocOnboardingRecordResponse);

  // Bulk API for UpdateSolutionOnboardingRecord
  rpc BulkUpdateSolutionOnboardingRecord(BulkUpdateSolutionOnboardingRecordRequest) returns (BulkUpdateSolutionOnboardingRecordResponse);

  // Create Additional Business Onboarding Record
  rpc CreateAdditionalBusinessOnboardingRecord(CreateAdditionalBusinessOnboardingRecordRequest) returns (CreateAdditionalBusinessOnboardingRecordResponse);

  // Get unfinished new business onboarding records
  rpc GetUnfinishedNewBusinessOnboardingRecords(GetUnfinishedNewBusinessOnboardingRecordsRequest) returns (GetUnfinishedNewBusinessOnboardingRecordsResponse);

  // Check RESSMO eligibility
  rpc RESSMOEligibilityCheck(RESSMOEligibilityCheckRequest) returns (RESSMOEligibilityCheckResponse);

  // Generates a ironclad clm signature url
  rpc GenerateSignatureUrl(GenerateSignatureUrlRequest) returns (GenerateSignatureUrlResponse);

  // Validates onboarding has ironclad signature
  rpc ValidateSignature(ValidateSignatureRequest) returns (ValidateSignatureResponse);

  // Generates a general identity url
  rpc GenerateIdentityUrl(GenerateIdentityUrlRequest) returns (GenerateIdentityUrlResponse);

  // Finish onboarding for post-sale
  rpc FinishPostSaleOnboarding(FinishPostSaleOnboardingRequest) returns (FinishPostSaleOnboardingResponse);
}

// Pos Data for CreateOnboardingRecordRequest
message PosData {
  // The location id
  google.protobuf.StringValue pos_location_id = 1;
  // The provider
  google.protobuf.StringValue order_protocol_pos_provider = 2;
}

// Create onboarding record request
message CreateOnboardingRecordRequest {
  // store name
  google.protobuf.StringValue store_name = 1;
  // store address
  google.protobuf.StringValue store_address = 2;
  // Address components
  Address address_components = 3;
  // business phone
  google.protobuf.StringValue business_phone = 4;
  // email
  google.protobuf.StringValue email = 5;
  // locale
  google.protobuf.StringValue locale = 6;
  // Vertical
  VerticalType vertical = 7;
  // signup type
  SignupType signup_type = 8;
  // trial code
  google.protobuf.StringValue trial_code = 9;
  // Sales information for RESSMO
  RepEnabledData rep_enabled_data = 10;
  // Referral Data
  ReferralData referral_data = 11;
  // Source that started the onboarding
  OnboardingSource source = 12;
  // POS information from provider
  PosData pos_data = 13;
  // First name
  google.protobuf.StringValue first_name = 14;
  // Last name
  google.protobuf.StringValue last_name = 15;
  // Visitor id
  google.protobuf.StringValue visitor_id = 16;
  // Lead source
  google.protobuf.StringValue lead_source = 17;
  // Lead source detail
  google.protobuf.StringValue lead_source_detail = 18;
}

// Create onboarding record response
message CreateOnboardingRecordResponse {
  // return either an error or create onboarding record message
  oneof result {
    // Error
    Error error = 1;
    // create onboarding record message
    CreateOnboardingRecordMessage create_onboarding_record_message = 2;
  }
}

// Create Onboarding Record Message
message CreateOnboardingRecordMessage {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // redirect url for Marketing Page to redirect to after form submit
  google.protobuf.StringValue redirect_url = 2;
}

// Create multi-loc onboarding record request
message CreateMultiLocOnboardingRecordRequest {
  // store name
  google.protobuf.StringValue store_name = 1;
  // store address
  google.protobuf.StringValue store_address = 2;
  // address components
  Address address_components = 3;
  // business phone
  google.protobuf.StringValue business_phone = 4;
  // email
  google.protobuf.StringValue email = 5;
  // locale
  google.protobuf.StringValue locale = 6;
  // vertical
  VerticalType vertical = 7;
  // signup type
  SignupType signup_type = 8;
  // business_id of requesting business
  google.protobuf.Int32Value business_id = 9;
  // requestor first name
  google.protobuf.StringValue first_name = 10;
  // requestor last name
  google.protobuf.StringValue last_name = 11;
  // requestor user id
  google.protobuf.StringValue user_id = 12;

  // Source that started the onboarding
  OnboardingSource source = 13;
  // POS information from provider
  PosData pos_data = 14;
}

// Create multi-loc onboarding record response
message CreateMultiLocOnboardingRecordResponse {
  // return either an error or create multi-loc onboarding record message
  oneof result {
    // Error
    Error error = 1;
    // create onboarding record message
    CreateMultiLocOnboardingRecordMessage create_multi_loc_onboarding_record_message = 2;
  }
}

// Create multi-loc onboarding Record Message
message CreateMultiLocOnboardingRecordMessage {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // redirect url after submitting on "add store" page
  google.protobuf.StringValue redirect_url = 2;
}

// Identity callback request
message IdentityCallbackRequest {
  // IDS exchange code
  google.protobuf.StringValue code = 1;
  // state - onboarding Id
  google.protobuf.StringValue state = 2;
  // action - for tracking purpose
  google.protobuf.StringValue action = 3;
  // method - for tracking purpose
  google.protobuf.StringValue method = 4;
}

// Identity callback response
message IdentityCallbackResponse {
  // Redirect URL
  google.protobuf.StringValue redirect_url = 1;
}

// Get all onboarding records request
message GetAllOnboardingRecordsRequest {
  // filters
  Filter filter = 1;
  // identifier
  oneof identifier {
    // Onboarding id
    google.protobuf.StringValue onboarding_id = 2;
    // store_id
    google.protobuf.Int32Value store_id = 3;
    // business_id
    google.protobuf.Int32Value business_id = 4;
    // business_group_id
    google.protobuf.Int32Value business_group_id = 5;
  }
}

// Get all onboarding records response
message GetAllOnboardingRecordsResponse {
  // result is either error or get message
  oneof result {
    // Error
    Error error = 1;
    // Get all onboarding records message
    AllOnboardingRecordsMessage all_onboarding_records_message = 2;
  }
}

// All onboarding records message
message AllOnboardingRecordsMessage {
  // list of all platform onboarding records
  repeated PlatformOnboardingRecord platform_onboarding_records = 1;
}

// Upsert onboarding solutions request
message UpsertOnboardingSolutionsRequest {
  // list of signup types
  repeated SignupType signup_types = 1;

  // identifier
  oneof identifier {
    // Onboarding id
    google.protobuf.StringValue onboarding_id = 2;
    // store_id
    google.protobuf.Int32Value store_id = 3;
    // business_id
    google.protobuf.Int32Value business_id = 4;
  }
}

// Upsert onboarding solutions response
message UpsertOnboardingSolutionsResponse {
  // result is either error or get message
  oneof result {
    // Error
    Error error = 1;
    // All Onboarding Record Message
    AllOnboardingRecordsMessage all_onboarding_records_message = 2;
  }
}

// Get solution onboarding record request
message GetSolutionOnboardingRecordRequest {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // Filter
  Filter filter = 2;
}

// Get solution onboarding record response
message GetSolutionOnboardingRecordResponse {
  // Result is either error or message
  oneof result {
    // Error
    Error error = 1;
    // Solution Onboarding Record Message
    SolutionOnboardingRecordMessage solution_onboarding_record_message = 2;
  }
}

// update solution onboarding record request
message UpdateSolutionOnboardingRecordRequest {
  // onboarding id
  google.protobuf.StringValue onboarding_id = 1;

  // store_id
  google.protobuf.Int32Value store_id = 5;

  // edit request
  oneof edit_request {
    // Flowers marketplace edit request
    FlowersMarketplaceEditRequest flowers_marketplace_edit_request = 2;

    // Restaurant marketplace edit request
    RestaurantMarketplaceEditRequest restaurant_marketplace_edit_request = 3;

    // Drive edit request
    DriveEditRequest drive_edit_request = 4;
  }
}

// update solution onboarding record response
message UpdateSolutionOnboardingRecordResponse {
  // result
  oneof result {
    // Error
    Error error = 1;
    // Solution Onboarding Record Message
    SolutionOnboardingRecordMessage solution_onboarding_record_message = 2;
  }
}

// Get solution onboarding record message
message SolutionOnboardingRecordMessage {
  // The main platform record
  PlatformOnboardingRecord platform_record = 1;

  // Metadata to make a complete record
  oneof metadata {
    // Flowers MP metadata
    FlowersMarketplaceMetadataRecord flowers_marketplace_metadata = 2;

    // Rx MP metadata
    RestaurantMarketplaceMetadataRecord restaurant_marketplace_metadata = 3;

    // Drive metadata
    DriveMetadataRecord drive_metadata = 4;
  }
}

// Finish solution onboarding record request
message FinishSolutionOnboardingRecordRequest {
  // onboarding id
  google.protobuf.StringValue onboarding_id = 1;
  // ip address
  google.protobuf.StringValue ip_address = 2;
}

// Finish solution onboarding record response
message FinishSolutionOnboardingRecordResponse {
  // result
  oneof result {
    // Error
    Error error = 1;
    // Finish Solution Onboarding Record Message
    FinishSolutionOnboardingRecordMessage finish_solution_onboarding_record_message = 2;
  }
}

// Finish solution onboarding record message
message FinishSolutionOnboardingRecordMessage {
  // It can't be empty which gonna fail unified-gateway client generation
  google.protobuf.StringValue message = 1;
}

// Base Error message
message Error {
  // Enum error encountered
  ErrorCode error_code = 1;

  // Error message
  google.protobuf.StringValue error_message = 2;
}

// Error code enum
enum ErrorCode {
  /**
   * Why not just use grpc-status-code:
   * - Grpc code and http code is not 1:1 mapping.
   * - Extra message is hard to be transferred with grpc error, in a well controlled manner.
   * - A grpc error sometimes means the client side needs to retry, it cannot handle the case that
   *   server side really wants to return a 500 error.
   * - Grpc-status-code is less explicit
   */
  // base error code, unmapped
  ERROR_CODE_UNSPECIFIED = 0;

  // Error code not found
  ERROR_CODE_NOT_FOUND = 1;

  // Error code validation error
  ERROR_CODE_VALIDATION_ISSUE = 2;

  // Auth problem
  ERROR_CODE_UNAUTHORIZED = 3;

  // Internal Server Error
  ERROR_CODE_INTERNAL_SERVER_ERROR = 4;

  // Existing MX
  ERROR_CODE_EXISTING_MX = 5;
}

// Platform onboarding record
message PlatformOnboardingRecord {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // Store Name
  google.protobuf.StringValue store_name = 2;
  // Store Address
  google.protobuf.StringValue store_address = 3;
  // Email
  google.protobuf.StringValue email = 4;
  // Business Phone
  google.protobuf.StringValue business_phone = 5;
  // Street Address
  google.protobuf.StringValue street_address = 6;
  // City
  google.protobuf.StringValue city = 7;
  // State
  google.protobuf.StringValue state = 8;
  // Zip Code
  google.protobuf.StringValue zip = 9;
  // Country
  google.protobuf.StringValue country = 10;
  // Submarket
  google.protobuf.Int64Value sub_market = 11;
  // Signup type
  SignupType signup_type = 12;
  // Vertical type
  VerticalType vertical_type = 13;
  // Currency
  google.protobuf.StringValue currency = 14;
  // Business ID
  google.protobuf.Int32Value business_id = 15;
  // Store ID
  google.protobuf.Int32Value store_id = 16;
  // Business Employee Profile ID
  google.protobuf.Int32Value business_employee_profile_id = 17;
  // Merchant type
  MerchantType merchant_type = 18;
  // Owner first name
  google.protobuf.StringValue owner_first_name = 19;
  // Owner last name
  google.protobuf.StringValue owner_last_name = 20;
  // user_id
  google.protobuf.Int32Value user_id = 21;
  // Signup finished timestamp
  google.protobuf.Timestamp finished_at = 22;
  // Created at timestamp
  google.protobuf.Timestamp created_at = 23;
  // Source that started the onboarding
  OnboardingSource onboarding_source = 24;
  // Store information confirmed
  google.protobuf.BoolValue store_information_confirmed = 25;
  // Is additional business onboarding
  google.protobuf.BoolValue is_additional_business = 26;
  // Contract Number
  google.protobuf.StringValue contract_number = 27;
  // Business name
  google.protobuf.StringValue business_name = 28;
  // Business group name
  google.protobuf.StringValue business_group_name = 29;
  // Business information updated
  google.protobuf.BoolValue business_information_updated = 30;
  // locale
  google.protobuf.StringValue locale = 31;
}

// Flowers metadata record
message FlowersMarketplaceMetadataRecord {
  // Store Hours
  google.protobuf.StringValue hours = 1;
  // Order Protocol
  OrderProtocol order_protocol = 2;
  // Order Protocol Email Address
  google.protobuf.StringValue order_protocol_email = 3;
  // Order Protocol Phone Number
  google.protobuf.StringValue order_protocol_phone = 4;
  // Menu Link
  google.protobuf.StringValue menu_link = 5;
  // Account token
  google.protobuf.StringValue account_token = 6;
  // Person token
  google.protobuf.StringValue person_token = 7;
  // Bank token
  google.protobuf.StringValue bank_token = 8;
  // Business Tax Id
  google.protobuf.StringValue business_tax_id = 9;
  // Legal Business Name
  google.protobuf.StringValue legal_business_name = 10;
  // Number of locations
  NumberOfLocations number_of_locations = 11;
  // Delivery commission
  google.protobuf.Int32Value delivery_commission_rate = 12;
  // Pickup commission
  google.protobuf.Int32Value pickup_commission_rate = 13;
  // Dashpass commission
  google.protobuf.Int32Value dashpass_commission_rate = 14;
  // Trial commission - Apply for all
  google.protobuf.Int32Value trial_commission_rate = 15;
  // Trial Length
  TrialLength trial_length = 16;
  // Package Id
  google.protobuf.StringValue package_id = 17;
  // Trial Id
  google.protobuf.StringValue trial_id = 18;
  // Menu files
  repeated google.protobuf.StringValue menu_files = 19;
  // Menu UUID
  repeated google.protobuf.StringValue menu_uuids = 20;
  // Optional Stripe Payment Method id
  google.protobuf.StringValue stripe_payment_method_id = 21;
  // Optional Stripe Bank Account Last
  google.protobuf.StringValue bank_account_last_4 = 22;
  // Optional Stripe Bank Name
  google.protobuf.StringValue bank_name = 23;
}

// Flowers Marketplace Edit request
message FlowersMarketplaceEditRequest {
  // Store Hours
  google.protobuf.StringValue hours = 1;
  // Order Protocol
  OrderProtocol order_protocol = 2;
  // Order Protocol Email Address
  google.protobuf.StringValue order_protocol_email = 3;
  // Order Protocol Phone Number
  google.protobuf.StringValue order_protocol_phone = 4;
  // Menu Link
  google.protobuf.StringValue menu_link = 5;
  // Account token
  google.protobuf.StringValue account_token = 6;
  // Person token
  google.protobuf.StringValue person_token = 7;
  // Bank token
  google.protobuf.StringValue bank_token = 8;
  // Business Tax Id
  google.protobuf.StringValue business_tax_id = 9;
  // Legal Business Name
  google.protobuf.StringValue legal_business_name = 10;
  // Number of locations
  NumberOfLocations number_of_locations = 11;
  // Merchant type
  MerchantType merchant_type = 12;
  // Legal Business type
  LegalBusinessType legal_business_type = 13;
  // Stripe payment method id
  google.protobuf.StringValue stripe_payment_method_id = 14;
  // Bank account last 4 digit
  google.protobuf.StringValue bank_account_last_4 = 15;
  // Bank name
  google.protobuf.StringValue bank_name = 16;
  // S3 menu name of uploaded menu file
  google.protobuf.StringValue s3_menu_file_name = 17;
  // S3 menu link of uploaded menu file
  google.protobuf.StringValue s3_menu_link = 18;
  // Signer User Id
  google.protobuf.StringValue signer_user_id = 19;
}

// Drive metadata record
message DriveMetadataRecord {
  // drive onboarding task
  DriveOnboardingTask drive_onboarding_task = 1;
  // onboarding_status status
  DriveOnboardingStatus onboarding_status = 2;
  // drive onboarding exclusion code
  DriveOnboardingExclusionCode exclusion_code = 3;
  // error
  google.protobuf.StringValue error = 4;
  // created by
  google.protobuf.StringValue created_by = 5;
  // business_id
  google.protobuf.Int64Value business_id = 6;
  // related item id
  google.protobuf.StringValue related_reference_id = 7;
  // related item type
  RelatedReferenceType related_reference_type = 8;
  // drive business configuration
  DriveBusinessConfiguration drive_business_configuration = 9;
  // drive onboarding source
  DriveOnboardingSource source = 10;
}

// Drive Business Configuration
message DriveBusinessConfiguration {
  // create new business
  google.protobuf.BoolValue create_new_business = 1;
  // business name
  google.protobuf.StringValue business_name = 2;
  // legal business name
  google.protobuf.StringValue legal_business_name = 3;
  // drive_account_id
  google.protobuf.StringValue drive_account_id = 4;
  // contract_link
  google.protobuf.StringValue contract_link = 5;
  // developer_id
  google.protobuf.Int64Value developer_id = 6;
  // manual invoice
  google.protobuf.BoolValue manual_invoice = 7;
  // create new invoice
  google.protobuf.BoolValue create_new_invoice = 8;
  // onboarding rule
  BillingGroupOnboardingRule onboarding_rule = 9;
  // billing address
  BillingAddress billing_address = 10;
  // billing group id
  google.protobuf.Int64Value billing_group_id = 11;
  // billing group uuid
  google.protobuf.StringValue billing_group_uuid = 12;
  // netsuite_id
  google.protobuf.StringValue netsuite_id = 13;
  // billing email
  google.protobuf.StringValue billing_email = 14;
  // middleware provider uuid
  google.protobuf.StringValue middleware_provider_uuid = 15;
}

// Billing Address
message BillingAddress {
  // street
  google.protobuf.StringValue street = 2;
  // unit
  google.protobuf.StringValue unit = 3;
  // city
  google.protobuf.StringValue city = 4;
  // state
  google.protobuf.StringValue state = 5;
  // zip_code
  google.protobuf.StringValue zip_code = 6;
  // country
  google.protobuf.StringValue country = 7;
}

// Drive onboaridng task
enum DriveOnboardingTask {
  // unspecified
  DRIVE_ONBOARDING_TASK_UNSPECIFIED = 0;
  // business onboarding
  DRIVE_ONBOARDING_TASK_BUSINESS_ONBOARDING = 1;
  // store onboarding
  DRIVE_ONBOARDING_TASK_STORE_ONBOARDING = 2;
  // partnership creation
  DRIVE_ONBOARDING_TASK_PARTNERSHIP_CREATION = 3;
  // portal access grant
  DRIVE_ONBOARDING_TASK_PORTAL_ACCESS_GRANT = 4;
  // one click drive form
  DRIVE_ONBOARDING_TASK_ONE_CLICK_DRIVE_FORM_ONBOARDING = 5;
}

// onboaridng status
enum DriveOnboardingStatus {
  // unspecified
  DRIVE_ONBOARDING_STATUS_UNSPECIFIED = 0;
  // Initiated for reviewing purpose
  DRIVE_ONBOARDING_STATUS_INITIATED = 1;
  // It's being processed
  DRIVE_ONBOARDING_STATUS_PROCESSING = 2;
  // Onboaridng considered as invalid and got abandoned
  DRIVE_ONBOARDING_STATUS_ABANDONED = 3;
  // Onboaridng failed for any other reason
  DRIVE_ONBOARDING_STATUS_FAILED = 4;
  // Onboaridng complete with no issues
  DRIVE_ONBOARDING_STATUS_COMPLETE = 5;
}

// Enum that represents different reasons for onboarding exclusions.
enum DriveOnboardingExclusionCode {
  // An unspecified default value.
  DRIVE_ONBOARDING_EXCLUSION_CODE_UNSPECIFIED = 0;
  // The provided fields are invalid. This can be due to missing or malformed information.
  DRIVE_ONBOARDING_EXCLUSION_CODE_INVALID_FIELDS = 1;
  // The business is already associated with another developer.
  DRIVE_ONBOARDING_EXCLUSION_CODE_BUSINESS_WITH_OTHER_DEVELOPER = 2;
  // The business operates with a conflicting invoicing system or method.
  DRIVE_ONBOARDING_EXCLUSION_CODE_BUSINESS_HAS_CONFLICT_INVOICING = 3;
  // No contact_link
  DRIVE_ONBOARDING_EXCLUSION_CODE_NO_CONTRACT_LINK_FOUND = 4;
}

// Enum that represents the source the Mx is using to onboard to Drive.
enum DriveOnboardingSource {
  // unspecified default value
  DRIVE_ONBOARDING_SOURCE_UNSPECIFIED = 0;
  // Mx Portal - business level
  DRIVE_ONBOARDING_SOURCE_MERCHANT_PORTAL_BUSINESS_VIEW = 1;
  // Mx Portal - store level
  DRIVE_ONBOARDING_SOURCE_MERCHANT_PORTAL_STORE_VIEW = 2;
  // Centralized tool for drive onboarding
  DRIVE_ONBOARDING_SOURCE_MERCHANT_ONBOARDING_TOOL = 3;
  // Feed card in Mx Portal
  DRIVE_ONBOARDING_SOURCE_FEED_CARD = 4;
  // get.doordash.com
  DRIVE_ONBOARDING_SOURCE_DRIVE_MARKETING_PAGE = 5;
  // Singularity solution page
  DRIVE_ONBOARDING_SOURCE_SINGULARITY_SOLUTION_PAGE = 6;
}

// Drive Edit Request
message DriveEditRequest {
  // drive onboarding task
  DriveOnboardingTask drive_onboarding_task = 1;
  // business id
  google.protobuf.Int64Value business_id = 2;
  // created_by
  google.protobuf.StringValue created_by = 3;
  // related item id
  google.protobuf.StringValue related_reference_id = 4;
  // related item type
  RelatedReferenceType related_reference_type = 5;
  // drive business configuration
  DriveBusinessConfiguration drive_business_configuration = 6;
  // drive onboarding source
  DriveOnboardingSource source = 7;
  // store id
  google.protobuf.Int64Value store_id = 8;
  // user id
  google.protobuf.Int32Value user_id = 9;
}

// billing group onboarding rule
enum BillingGroupOnboardingRule {
  // Unspecified
  BILLING_GROUP_ONBOARDING_RULE_UNSPECIFIED = 0;
  // developer
  BILLING_GROUP_ONBOARDING_RULE_DEVELOPER = 1;
  // business
  BILLING_GROUP_ONBOARDING_RULE_BUSINESS = 2;
  // store
  BILLING_GROUP_ONBOARDING_RULE_STORE = 3;
}

// related item type
enum RelatedReferenceType {
  // unspecified
  RELATED_REFERENCE_TYPE_UNSPECIFIED = 0;
  // SFDC figment case id
  RELATED_REFERENCE_TYPE_FIGMENT_CASE_ID = 1;
  // SFDC LEMONADE case id
  RELATED_REFERENCE_TYPE_LEMONADE_CASE_ID = 2;
}

// Rx MP metadata record
message RestaurantMarketplaceMetadataRecord {
  // Order Protocol
  OrderProtocol order_protocol = 1;
  // Order Protocol Email Address
  google.protobuf.StringValue order_protocol_email = 2;
  // Order Protocol Phone Number
  google.protobuf.StringValue order_protocol_phone = 3;
  // Order Protocol Pos Provider Type
  PosProviderType order_protocol_pos_provider_type = 4;
  // Store Hours
  google.protobuf.StringValue hours = 5;
  // Menu Link
  google.protobuf.StringValue menu_link = 6;
  // Menu files
  repeated google.protobuf.StringValue menu_files = 7;
  // Menu UUID
  repeated google.protobuf.StringValue menu_uuids = 8;
  // Selected Package Uuid
  google.protobuf.StringValue selected_package_uuid = 9;
  // Account token
  google.protobuf.StringValue account_token = 10;
  // Person token
  google.protobuf.StringValue person_token = 11;
  // Bank token
  google.protobuf.StringValue bank_token = 12;
  // Legal Business Name
  google.protobuf.StringValue legal_business_name = 13;
  // Number of locations
  NumberOfLocations number_of_locations = 14;
  // Whether mx is franchisee
  google.protobuf.BoolValue is_franchisee = 15;
  // Business Tax Id
  google.protobuf.StringValue business_tax_id = 16;
  // Legal Business type
  LegalBusinessType legal_business_type = 17;
  // Stripe payment method id
  google.protobuf.StringValue stripe_payment_method_id = 18;
  // Bank account last 4 digit
  google.protobuf.StringValue bank_account_last_4 = 19;
  // Bank name
  google.protobuf.StringValue bank_name = 20;
  // If franchisee, number of franchise locations
  google.protobuf.Int32Value number_of_franchisees = 21;
  // pos provider type
  google.protobuf.StringValue pos_provider_type = 22;
  // Trial Length
  TrialLength trial_length = 23;
  // Trial Code
  google.protobuf.StringValue trial_code = 24;
  // Trial Tablet Fee Integer
  google.protobuf.Int32Value trial_tablet_fee = 25;
  // Trial Tablet Printer Fee Integer
  google.protobuf.Int32Value trial_tablet_printer_fee = 26;
  // Subscription Commission Rate or Dashpass rate
  google.protobuf.Int32Value dashpass_commission_rate = 27;
  // Printer Fee Integer
  google.protobuf.Int32Value printer_fee = 28;
  // Tablet Fee Integer
  google.protobuf.Int32Value tablet_fee = 29;
  // Is Cx Subscription Eligible
  google.protobuf.BoolValue is_dashpass_eligible = 30;
  // Is Additional Store
  google.protobuf.BoolValue is_additional_store = 32;
  // Marketing Rebate Amount
  google.protobuf.Int32Value marketing_rebate_amount = 33;
  // Marketing Rebate Min Monthly Spend
  google.protobuf.Int32Value marketing_rebate_min_monthly_spend = 34;
  // Dynamic Properties
  google.protobuf.Struct dynamic_properties = 35;
  // Business Name
  google.protobuf.StringValue business_name = 36;
  // Business Information
  BusinessInformation business_information = 37;
  // Trial Commission Rate
  google.protobuf.Int32Value trial_commission_rate = 38;
  // Trial Pickup Commission Rate
  google.protobuf.Int32Value trial_pickup_commission_rate = 39;
  // Trial Subscription Commission Rate
  google.protobuf.Int32Value trial_dashpass_commission_rate = 40;
  // Delivery Commission Rate
  google.protobuf.Int32Value delivery_commission_rate = 41;
  // Pickup Commission Rate
  google.protobuf.Int32Value pickup_commission_rate = 42;
  // Merchant Package Treatment
  google.protobuf.StringValue merchant_package_treatment = 43;
  // Experiments which is replacing Dynamic Properties
  repeated google.protobuf.StringValue experiments = 44;
  // Salesrep Details
  SalesrepDetails salesrep_details = 45;
  // Partnership Details
  RepEnabledPartnershipDetails rep_enabled_partnership_details = 46;
  // pos store created
  google.protobuf.BoolValue pos_store_created = 47;
  // A list of Bank token for RESSMO multi-loc
  repeated google.protobuf.StringValue multi_loc_bank_token = 48;
  // Pactsafe Activity ID
  google.protobuf.StringValue pactsafe_activity_id = 49;
  // The POS location id
  google.protobuf.StringValue pos_location_id = 50;
}

// Rx MP edit request
message RestaurantMarketplaceEditRequest {
  // Order Protocol
  OrderProtocol order_protocol = 1;
  // Order Protocol Email Address
  google.protobuf.StringValue order_protocol_email = 2;
  // Order Protocol Phone Number
  google.protobuf.StringValue order_protocol_phone = 3;
  // Order Protocol Pos Provider Type
  PosProviderType order_protocol_pos_provider_type = 4;
  // Store Hours
  google.protobuf.StringValue hours = 5;
  // Menu Link
  google.protobuf.StringValue menu_link = 6;
  // Selected Package Uuid
  google.protobuf.StringValue selected_package_uuid = 7;
  // Account token
  google.protobuf.StringValue account_token = 8;
  // Person token
  google.protobuf.StringValue person_token = 9;
  // Bank token
  google.protobuf.StringValue bank_token = 10;
  // Legal Business Name
  google.protobuf.StringValue legal_business_name = 11;
  // Merchant type
  MerchantType merchant_type = 12;
  // Number of locations
  NumberOfLocations number_of_locations = 13;
  // Whether mx is franchisee
  google.protobuf.BoolValue is_franchisee = 14;
  // Business Tax Id
  google.protobuf.StringValue business_tax_id = 15;
  // Legal Business type
  LegalBusinessType legal_business_type = 16;
  // Stripe payment method id
  google.protobuf.StringValue stripe_payment_method_id = 17;
  // Bank account last 4 digit
  google.protobuf.StringValue bank_account_last_4 = 18;
  // Bank name
  google.protobuf.StringValue bank_name = 19;
  // If franchisee, number of franchise locations
  google.protobuf.Int32Value number_of_franchisees = 20;
  // S3 menu name of uploaded menu file
  google.protobuf.StringValue s3_menu_file_name = 21;
  // S3 menu link of uploaded menu file
  google.protobuf.StringValue s3_menu_link = 22;
  // pos provider type
  google.protobuf.StringValue pos_provider_type = 23;
  // Signer User Id
  google.protobuf.StringValue signer_user_id = 24;
  // Partnership Details
  RepEnabledPartnershipDetails rep_enabled_partnership_details = 25;
  // Partnership Details Accepted
  google.protobuf.BoolValue partnership_details_accepted = 26;
  // A list of Bank token for RESSMO multi-loc
  repeated google.protobuf.StringValue multi_loc_bank_token = 27;
  // Store name
  google.protobuf.StringValue store_name = 28;
  // store address
  google.protobuf.StringValue store_address = 29;
  // Address components
  Address address_components = 30;
  // Owner first name
  google.protobuf.StringValue owner_first_name = 31;
  // Owner last name
  google.protobuf.StringValue owner_last_name = 32;
  // Email
  google.protobuf.StringValue email = 33;
  // Referred information confirmed
  google.protobuf.BoolValue referred_information_confirmed = 34;
  // Pactsafe Activity ID
  google.protobuf.StringValue pactsafe_activity_id = 35;
  // Business Name
  google.protobuf.StringValue business_name = 36;
  // Business Group Name
  google.protobuf.StringValue business_group_name = 37;
  // Business Information Updated
  google.protobuf.BoolValue business_information_updated = 38;
  // A list of person tokens
  repeated google.protobuf.StringValue person_tokens = 39;
}

// Menu File uploaded
message MenuFile {
  // Menu File as a stream of bytes
  google.protobuf.BytesValue menu_file = 1;
  // File name with extension
  google.protobuf.StringValue file_name_with_extension = 2;
}

// Message for Upload Menu Files Request
message UploadMenuFilesRequest {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // List of menu files uploaded
  repeated MenuFile menu_files = 2;
}

// Message for Upload Menu Files Response
message UploadMenuFilesResponse {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // status of request
  oneof status {
    // Success Status
    google.protobuf.BoolValue success = 2;
    // Failure reason
    Error error = 3;
  }
}

// Message for get menu link request
message GetMenuLinkRequest {
  // menu_id
  google.protobuf.StringValue menu_id = 1;
  // vertical
  VerticalType vertical_type = 2;
}

// Message for get menu link response
message GetMenuLinkResponse {
  // result
  oneof result {
    // Error
    Error error = 1;
    // get menu link message
    GetMenuLinkMessage get_menu_link_message = 2;
  }
}

// Message for get menu link
message GetMenuLinkMessage {
  // URL
  google.protobuf.StringValue menu_url = 1;
}

// Message for delete menu files request
message DeleteMenuFilesRequest {
  // menu_id
  google.protobuf.StringValue menu_id = 1;
  // vertical
  VerticalType vertical_type = 2;
}

// Message for delete menu files response
message DeleteMenuFilesResponse {
  // result
  oneof result {
    // Success Status
    google.protobuf.BoolValue success = 1;
    // Error
    Error error = 2;
  }
}

// Message for GetStripeClientSecret request
message GetStripeClientSecretRequest {
  // optional field for onboarding id
  google.protobuf.StringValue onboarding_id = 1;
  // vertical type
  VerticalType vertical_type = 2;
  // signup type
  SignupType signup_type = 3;
}

// Message for GetStripeClientSecret response
message GetStripeClientSecretResponse {
  // result
  oneof result {
    // error message if it fails
    google.protobuf.StringValue error = 1;
    // client secret if it succeeds
    google.protobuf.StringValue client_secret = 2;
  }
}

// ListSolutionOnboardingRecordsRequest
message ListSolutionOnboardingRecordsRequest {
  // signup type
  SignupType signup_type = 1;
  // business_id
  google.protobuf.Int64Value business_id = 2;
  // store_id
  google.protobuf.Int64Value store_id = 3;
  // range of date
  date.DateRange data_range = 4;
  // last x days
  google.protobuf.Int64Value since_last_n_days = 5;
  // is test
  google.protobuf.BoolValue is_test = 6;
  // vertical type
  VerticalType vertical = 7;
  // offset
  google.protobuf.Int64Value offset = 8;
  // limit
  google.protobuf.Int64Value limit = 9;
  // onboarding task
  DriveOnboardingTask drive_onboarding_task = 10;
  // onboarding status
  DriveOnboardingStatus drive_onboarding_status = 11;
  // exclusion code
  DriveOnboardingExclusionCode drive_exclusion_code = 12;
  // related item type
  google.protobuf.StringValue created_by = 13;
  // related reference id
  google.protobuf.StringValue related_reference_id = 14;
  // related reference type
  RelatedReferenceType related_reference_type = 15;
}

// ListSolutionOnboardingRecordsResponse
message ListSolutionOnboardingRecordsResponse {
  // total records
  repeated SolutionOnboardingRecordMessage records = 1;
  // offset
  google.protobuf.Int64Value offset = 2;
  // limit
  google.protobuf.Int64Value limit = 3;
  // total count
  google.protobuf.Int64Value total_count = 4;
}

// Message for Get Packages By Country And Submarket Id Request
message GetPackagesByCountryAndSubmarketRequest {
  // Submarket ID
  google.protobuf.Int32Value submarket_id = 1;
  // Country Code
  google.protobuf.StringValue country_code = 2;
}

// Message for Get Packages By Country And Submarket Id Response
message GetPackagesByCountryAndSubmarketResponse {
  // Get packages by country and submarket message
  repeated PricingPackage pricing_packages = 1;
  // result
  oneof result {
    // Success Status
    google.protobuf.BoolValue success = 2;
    // Error
    Error error = 3;
  }
}

// Message for Bulk API for CreateMultiLocOnboardingRecordRequest
message BulkCreateMultiLocOnboardingRecordRequest {
  // Bulk CreateMultiLocOnboardingRecordInfo
  repeated BulkCreateMultiLocOnboardingRecordInfo bulk_create_multi_loc_onboarding_record_info = 1;
  // main onboarding id for RESSMO
  google.protobuf.StringValue main_onboarding_id = 2;
}

// Combination of CreateMultiLocOnboardingRecordRequest and index (main_onboarding_id + index for RESSMO 2.0)
message BulkCreateMultiLocOnboardingRecordInfo {
  reserved 3;
  reserved "main_onboarding_id";
  // identifier
  google.protobuf.StringValue identifier = 1;
  // CreateMultiLocOnboardingRecordRequest
  CreateMultiLocOnboardingRecordRequest create_multi_loc_onboarding_record_request = 2;
}

// Message for Bulk API for CreateMultiLocOnboardingRecordResponse
message BulkCreateMultiLocOnboardingRecordResponse {
  // Result
  oneof result {
    // Bulk Error Message
    BulkCreateMultiLocOnboardingRecordErrorMessage bulk_create_ressmo_multi_loc_error_message = 1;
    // Bulk Success Message
    BulkCreateMultiLocOnboardingRecordSuccessMessage bulk_create_ressmo_multi_loc_success_message = 2;
  }
}

// Message for Bulk CreateMultiLocOnboardingRecord Error
message BulkCreateMultiLocOnboardingRecordErrorMessage {
  // Error Message
  repeated CreateMultiLocOnboardingRecordErrorMessage create_ressmo_multi_loc_error_message = 1;
}

// Message for Bulk CreateMultiLocOnboardingRecord Success
message BulkCreateMultiLocOnboardingRecordSuccessMessage {
  // Success Message
  repeated CreateMultiLocOnboardingRecordSuccessMessage create_ressmo_multi_loc_success_message = 1;
}

// Message for CreateMultiLocOnboardingRecord Error
message CreateMultiLocOnboardingRecordErrorMessage {
  // identifier
  google.protobuf.StringValue identifier = 1;
  // Error
  Error error = 2;
}

// Message for CreateMultiLocOnboardingRecord Success
message CreateMultiLocOnboardingRecordSuccessMessage {
  // identifier
  google.protobuf.StringValue identifier = 1;
  // onboarding id
  google.protobuf.StringValue onboarding_id = 2;
}

// Message for Bulk API UpdateSolutionOnboardingRecordRequest
message BulkUpdateSolutionOnboardingRecordRequest {
  // UpdateSolutionOnboardingRecordRequest
  repeated UpdateSolutionOnboardingRecordRequest update_solution_onboarding_record_request = 1;
}

// Message for Bulk API UpdateSolutionOnboardingRecordResponse
message BulkUpdateSolutionOnboardingRecordResponse {
  // Result
  oneof result {
    // Error
    Error error = 1;
    // Bulk Solution Onboarding Record Message
    BulkSolutionOnboardingRecordMessage bulk_solution_onboarding_record_message = 2;
  }
}

// Message for Bulk SolutionOnboardingRecordMessage
message BulkSolutionOnboardingRecordMessage {
  // Solution Onboarding Record Message
  repeated SolutionOnboardingRecordMessage solution_onboarding_record_message = 1;
}

// Create additional business onboarding record request
message CreateAdditionalBusinessOnboardingRecordRequest {
  // store name
  google.protobuf.StringValue store_name = 1;
  // store address
  google.protobuf.StringValue store_address = 2;
  // address components
  Address address_components = 3;
  // business phone
  google.protobuf.StringValue business_phone = 4;
  // email
  google.protobuf.StringValue email = 5;
  // locale
  google.protobuf.StringValue locale = 6;
  // vertical
  VerticalType vertical = 7;
  // signup type
  SignupType signup_type = 8;
  // business_id of requesting business
  google.protobuf.Int32Value business_id = 9;
  // requester first name
  google.protobuf.StringValue first_name = 10;
  // requester last name
  google.protobuf.StringValue last_name = 11;
  // requester user id
  google.protobuf.StringValue user_id = 12;
  // name of the new business group that will be created
  google.protobuf.StringValue business_group_name = 13;
  // name of the new business
  google.protobuf.StringValue business_name = 14;
}

// Create additional business onboarding record response
message CreateAdditionalBusinessOnboardingRecordResponse {
  // return either an error or create additional business onboarding record message
  oneof result {
    // Error
    Error error = 1;
    // create additional business onboarding record message
    CreateAdditionalBusinessOnboardingRecordMessage create_additional_business_onboarding_record_message = 2;
  }
}

// Create additional business onboarding record message
message CreateAdditionalBusinessOnboardingRecordMessage {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // redirect url after submitting "add store"
  google.protobuf.StringValue redirect_url = 2;
}

// Get unfinished new business onboarding record request
message GetUnfinishedNewBusinessOnboardingRecordsRequest {
  // business_group_id
  google.protobuf.Int32Value business_group_id = 1;
}

// Get unfinished new business onboarding records response
message GetUnfinishedNewBusinessOnboardingRecordsResponse {
  // platform_onboarding_records
  repeated PlatformOnboardingRecord platform_onboarding_records = 1;
}

// RESSMO Eligibility Check Request
message RESSMOEligibilityCheckRequest {
  // store name
  google.protobuf.StringValue store_name = 1;
  // store address
  google.protobuf.StringValue store_address = 2;
  // Address components
  Address address_components = 3;
  // business phone
  google.protobuf.StringValue business_phone = 4;
  // email
  google.protobuf.StringValue email = 5;
  // locale
  google.protobuf.StringValue locale = 6;
  // Vertical
  VerticalType vertical = 7;
  // signup type
  SignupType signup_type = 8;
  // trial code
  google.protobuf.StringValue trial_code = 9;
  // Sales information for RESSMO
  RepEnabledData rep_enabled_data = 10;
  // Source that started the onboarding
  OnboardingSource source = 11;
  // Onboarding ID
  google.protobuf.StringValue onboarding_id = 12;
}

// RESSMO Eligibility Check Response
message RESSMOEligibilityCheckResponse {
  // Result
  oneof result {
    // Error
    BulkRESSMOEligibilityCheckError bulk_ressmo_eligibility_check_error = 1;
    // Ressmo_eligibility_check success
    google.protobuf.BoolValue success = 2;
  }
}

// Bulk RESSMO Eligibility Check Error
message BulkRESSMOEligibilityCheckError {
  // Error
  repeated Error error = 1;
}

// RESSMO Generate Signature Url Request
message GenerateSignatureUrlRequest {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // store_id
  google.protobuf.Int32Value store_id = 2;
}

// RESSMO Generate Signature Url Response
message GenerateSignatureUrlMessage {
  // signature url
  google.protobuf.StringValue signature_url = 1;
}

// RESSMO Generate Signature URL Response
message GenerateSignatureUrlResponse {
  // result
  oneof result {
    // Error
    Error error = 1;
    // Generate Signature Url Message
    GenerateSignatureUrlMessage generate_signature_url_message = 2;
  }
}

// RESSMO Validate Signature Request
message ValidateSignatureRequest {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // store_id
  google.protobuf.Int32Value store_id = 2;
}

// RESSMO Validate Signature Response
message ValidateSignatureResponse {
  // result
  oneof result {
    // Error
    Error error = 1;
    // Success
    google.protobuf.BoolValue is_contract_signed = 2;
  }
}

// Generate Identity Url Request
message GenerateIdentityUrlRequest {
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 1;
  // user_id
  google.protobuf.StringValue user_id = 2;
  // email
  google.protobuf.StringValue email = 3;
}

// Generate Identity Url Response
message GenerateIdentityUrlResponse {
  // result
  oneof result {
    // Error
    Error error = 1;
    // identity url message
    GenerateIdentityUrlMessage generate_identity_url_message = 2;
  }
}

// Generate Platform Identity Url Message
message GenerateIdentityUrlMessage {
  // need to logout
  google.protobuf.BoolValue need_to_logout = 1;
  // identity url
  google.protobuf.StringValue identity_url = 2;
}

// Finish post sale onboarding request
message FinishPostSaleOnboardingRequest {
  // post-sale onboarding type
  PostSaleOnboardingType post_sale_onboarding_type = 1;
  // onboarding_id
  google.protobuf.StringValue onboarding_id = 2;
  // store id
  google.protobuf.Int32Value store_id = 3;
  // frist name
  google.protobuf.StringValue first_name = 4;
  // last name
  google.protobuf.StringValue last_name = 5;
  // email
  google.protobuf.StringValue email = 6;
  // phone
  google.protobuf.StringValue phone = 7;
  // is_new_alcohol_addendum_signed
  google.protobuf.BoolValue is_new_alcohol_addendum_signed = 8;
}

// Finish post sale response
message FinishPostSaleOnboardingResponse {
  // result
  oneof result {
    // Error
    Error error = 1;
    // Success
    google.protobuf.BoolValue success = 2;
  }
}

// Post Sale Type
enum PostSaleOnboardingType {
  // Unspecified
  POST_SALE_ONBOARDING_TYPE_UNSPECIFIED = 0;
  // Alcohol
  POST_SALE_ONBOARDING_TYPE_ALCOHOL = 1;
}
