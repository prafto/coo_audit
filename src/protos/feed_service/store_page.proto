syntax = "proto3";
package feed_service;

import "common/common.proto";
import "common/dayparts.proto";
import "common/money.proto";
import "common/service_client_config.proto";
import "feed_service/common.proto";
import "feed_service/facet_response_v2.proto";
import "feed_service/loyalty.proto";
import "feed_service/menu.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/struct.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";
import "lego.response/lego_response.proto";

option java_generic_services = true;
option java_multiple_files = true;
option java_outer_classname = "StorePageFeedApi";
option java_package = "com.doordash.rpc.feed_service.store_page";

service StorePageFeedService {
  option (service_client.client_config).circuit_breaker_config.minimum_request_threshold = 200;
  option (service_client.client_config).circuit_breaker_config.counter_sliding_window_millis = 20000;
  option (service_client.client_config).circuit_breaker_config.circuit_open_window_millis = 1000;
  option (service_client.client_config).response_attempt_timeout_millis = 3000;
  rpc GetStorePageFeed(GetStorePageFeedRequest) returns (GetStorePageFeedResponse);
}

message GetStorePageFeedResponse {
  StoreHeaderDM store_header = 1;
  MenuBookDM menu_book = 2;
  repeated ItemCarouselDM item_carousels = 3;
  repeated ItemListDM item_lists = 4;
  repeated DisclaimerDM disclaimers = 5;
  repeated BannerDM banners = 6;
  ConsumerReviewPreviewDM review_preview = 7;
  google.protobuf.Struct logging = 8;
  PharmaDM pharma = 9;
  // Deprecated popup_content, use popup_content_dm
  PopupContent popup_content = 10;
  PopupContentDM popup_content_dm = 11;
  // Deprecated loyalty_details, use loyalty_details_dm
  LoyaltyDetails loyalty_details = 12;
  MixAndMatchDM mix_and_match = 13;
  repeated MenuBookDM sibling_store_menu_books = 14;
  LoyaltyDetailsDM loyalty_details_dm = 15;
  CateringDetailsDM catering_details_dm = 16;
  DoorDashLoyaltyDM doordash_loyalty_dm = 17;
  SiblingStoresHeaderCarouselDM sibling_stores_header_carousel = 18;
  StoreTileCollectionDM store_tile_collection_dm = 19;
  repeated PopupContentDM legally_required_popups = 20;
  StoreItemCollectionDM store_item_collection_dm = 21;
  StoreFooterDM footer_dm = 22;
  MxInfoDM mx_info_dm = 23;
  repeated MixedGridCarouselDM mixed_grid_carousel = 24;
  StoreHighlightCarouselDM store_highlight_carousel = 25;
  ItemSearchCustomizersDM item_search_customizers_dm = 26;
  WelcomeBackMessageDM welcome_back_message_dm = 27;
  ItemBundleCollectionDM item_bundle_collection_dm = 28;
  StoreAcceleratorsDM store_accelerators_dm = 29;
  DineoutDM dineout_dm = 30;
}

message WelcomeBackMessageDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    MessageLayout welcome_back_message_layout = 1;
    Image profile_image = 2;
  }
}

message StoreFooterDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    TogglePreviewFooter dashpass_preview_footer = 1;
  }

  message TogglePreviewFooter {
    google.protobuf.StringValue enabled_message = 1;
    google.protobuf.StringValue disabled_message = 2;
  }
}

message CateringDetailsDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    MessageLayout order_time_in_advance = 1;
    MessageLayout cancel_order_time_in_advance = 2;
    MessageLayout min_order_size = 3;
    MessageLayout delivery_fee = 4;
    MessageLayout header = 5;
  }
}

message StoreHeaderDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.Int64Value id = 1;
    google.protobuf.StringValue name = 2;
    google.protobuf.StringValue description = 3;
    google.protobuf.UInt32Value price_range = 4;
    // Deprecating num_ratings, do not use
    google.protobuf.Int64Value num_ratings = 5;
    google.protobuf.StringValue number_of_ratings_display_string = 31;
    google.protobuf.DoubleValue average_rating = 6;
    google.protobuf.StringValue timezone = 7;
    google.protobuf.BoolValue is_dashpass_partner = 8;
    DeliveryFeeLayout delivery_fee_layout = 9;
    Modal delivery_fee_tooltip = 10;
    OperatingStatus asap_status = 11;
    OperatingStatus asap_pickup_status = 12;
    google.protobuf.BoolValue enable_switch_to_pickup = 32;
    google.protobuf.UInt32Value asap_minutes = 13;
    google.protobuf.UInt32Value asap_pickup_minutes = 14;
    Address address = 15;
    google.protobuf.StringValue distance_from_consumer = 16;
    google.protobuf.BoolValue offers_delivery = 17;
    google.protobuf.BoolValue offers_pickup = 18;
    google.protobuf.BoolValue offers_group_order = 19;
    Image header_image = 20;
    Image cover_square_image = 21;
    repeated google.protobuf.Empty content = 22;
    Image cover_image = 23;
    google.protobuf.BoolValue is_convenience = 24;
    google.protobuf.BoolValue fulfills_own_deliveries = 25;
    google.protobuf.BoolValue is_newly_added = 26;
    google.protobuf.BoolValue should_suggest_pickup = 27;
    google.protobuf.BoolValue provides_external_courier_tracking = 28;
    Business business = 29;
    repeated BusinessTag businessTags = 30;
    google.protobuf.BoolValue is_consumer_subscription_active = 33;
    TravelTime travel_time = 34;
    google.protobuf.StringValue price_range_display_string = 35;
    google.protobuf.BoolValue is_menu_v2 = 36;
    google.protobuf.StringValue price_match_guarantee_display_string = 37;
    google.protobuf.StringValue dashpass_promo_display_string = 38;
    google.protobuf.StringValue currency = 39;
    repeated Savelist savelists = 40;
    // Used to power ETA box for delivery fulfillment
    DeliveryTimeLayout delivery_time_layout = 41;
    // Used to power ETA box for pickup fulfillment
    DeliveryTimeLayout pickup_time_layout = 57;
    google.protobuf.BoolValue is_shipping_only = 42;
    google.protobuf.StringValue parent_name = 43;
    MapPreviewData map_preview_data = 44;
    PickupFeeLayout pickup_fee_layout = 45;
    google.protobuf.BoolValue offers_catering = 46;
    MarketplaceCateringLayout marketplace_catering_layout = 47;
    ReservationData reservation_data = 48;
    google.protobuf.BoolValue offers_reservation = 49;
    MessageLayout distance_based_pricing_layout = 50;
    google.protobuf.BoolValue offers_cannabis = 51;
    Video header_video = 52;
    MessageLayout service_fee_layout = 53;
    MessageLayout pickup_fee_message_layout = 54;
    MessageLayout liquor_license_layout = 55;
    // Adding current_menu_id to help decouple from menubook (i.e. menubook.currentMenuId)
    google.protobuf.Int64Value current_menu_id = 56;
    MessageLayout pricing_disclosure_layout = 58;
    // BE-driven messaging for fulfillment toggle; currently toggles subtitle messaging for toggle
    // (doesn't control title, as there are some attributes that are unknown to BE to determine whether or not to show toggle; e.g. group cart status)
    FulfillmentToggleLayout fulfillment_toggle_layout = 59;
    // Dietary tags for stores are different from dietary tags for items
    // i.e. "Vegetarian Options" for stores vs "Vegetarian" for items
    repeated feed_service.InformationalTag store_tags = 60;

    // For Home Chef stores only: List of delivery dates, used to show when the store will be open in the future for schedule deliveries
    // TODO (HOMECHEF-235): refactor this out to a home chef specific endpoint
    HomeChefDeliveryScheduleLayout home_chef_delivery_schedule_layout = 61;

    google.protobuf.StringValue store_bio = 62;
    // The URL to redirect to upon landing on the store page.
    // This is a failsafe approach ONLY for newer verticals like CnG and Home Chef, and should NOT be used as a general solution
    google.protobuf.StringValue redirect_url = 63;

    // use for PAD supersave feature, for client to display if a store is supersaved or not and at the top of the header
    // Design doc - https://www.figma.com/file/0ypUyuKRlpA8xVeS1g7lWY/SuperSave?node-id=1338%3A192544&t=6w9DHkoOUuAI4Aut-0
    SupersaveInfo supersave_info = 64;

    // for welcome card - contains mx bio + image url
    MessageLayout welcome_card = 65;

    // additional header images
    repeated Image additional_header_images = 66;
    // photo_count
    google.protobuf.StringValue photo_count_text = 67;

    // button for store recommendations
    // first use case will be similar stores(https://docs.google.com/document/d/1BO5gIGvKch3_V__AiUN9-4L38zA7uCPYS6Y-5gaK3LQ/edit)
    ConfigurableButton store_recommendation_button = 68;

    // Used for PAD agency box (https://docs.google.com/document/d/1Seb-cPOdE4hBMJPlxEj5Zfy8J9aBp0C2YoLZiurTshM/edit#heading=h.da45wr2f9ain)
    repeated MessageLayout benefit_layouts = 69;

    // Used for store head metadata pricing and fees info (https://docs.google.com/document/d/1p75jeiCGhx4z_4CpUrOd6e6e5RbHNe0f98PGNnkwY88)
    repeated MessageLayout pricing_n_fees_layouts = 70;

    // Used for showing distance away on the store page (https://docs.google.com/document/d/1o2NprZId9lBLvW3FZ2qeYJ11Hk0gxT8bfmJPnsKp3r0/edit)
    MessageLayout distance_away_message_layout = 71;

    // Used for nudge cx on rx quality (https://docs.google.com/document/d/1hYpnxq1EzuKwLLitVIvsStSYMafZlP7XUalf4vKBQio/edit#bookmark=id.4gtlr7hsy05r)
    MessageLayout ideal_group_size_message_layout = 72;

    // determines if store supports the SS Catering experience
    bool is_ss_catering = 73;

    // Used for Going Out use case in store page (https://docs.google.com/document/d/1uMdtLcKKSuWFPIUayOrDqZrHDYBtpojpfrxuft28UMY/edit?tab=t.0)
    DineoutData dineout_data = 74;

    google.protobuf.BoolValue offers_scheduling = 75;
  }

  message SupersaveInfo {
    google.protobuf.BoolValue is_saved = 1;
  }

  message BusinessTag {
    google.protobuf.Int64Value id = 1;
    google.protobuf.StringValue name = 2;
    google.protobuf.Int64Value priority = 3;
  }

  message Business {
    google.protobuf.Int64Value id = 1;
    google.protobuf.StringValue name = 2;
    google.protobuf.BoolValue differential_pricing_enabled = 3;
    google.protobuf.Int64Value business_vertical_id = 4;
  }

  message Address {
    google.protobuf.DoubleValue lat = 1;
    google.protobuf.DoubleValue lng = 2;
    google.protobuf.StringValue display_address = 3;
    google.protobuf.StringValue street = 4;
    google.protobuf.StringValue city = 5;
    google.protobuf.StringValue state = 6;
    google.protobuf.StringValue country_shortname = 7;
  }

  message OperatingStatus {
    google.protobuf.BoolValue is_available = 1;
    UNAVAILABLE_STATUS unavailable_status = 2;
    google.protobuf.StringValue unavailable_reason = 3;
    google.protobuf.StringValue display_unavailable_status = 4;
    repeated google.protobuf.StringValue unavailable_reason_keys = 5;
    DisplayUnavailableReason display_unavailable_reason = 6;
    UnavailableReasonStyling unavailable_reason_styling = 7;
    // number of minutes until store closes;
    // only set if store is closing soon and we want to display countdown banner for specified fulfillment type
    google.protobuf.UInt32Value num_minutes_until_close = 8;
    // will be displayed underneath store's rating, and conveys details regarding store status;
    // "[store state] • [optional temporal display string]" e.g. "Opens Soon • in 15 minutes"
    MessageLayout operating_summary_layout = 9;
    Modal scheduled_order_availability = 10; // optional

    enum UNAVAILABLE_STATUS {
      NULL = 0;
      CLOSED = 1;
      UNAVAILABLE = 2;
      CLOSED_OPENS_SOON = 3;
    }
  }

  message DisplayUnavailableReason {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue subtitle = 2;
  }

  message UnavailableReasonStyling {
    google.protobuf.StringValue foreground_color = 1;
    google.protobuf.StringValue background_color = 2;
  }

  message DeliveryFeeLayout {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue subtitle = 2;
    google.protobuf.BoolValue is_surging = 3;
    google.protobuf.StringValue display_delivery_fee = 4;
    google.protobuf.Int64Value discount_min_subtotal = 5;
    google.protobuf.StringValue dashpass_upsell_banner_text = 6;

    // layout to support dasspass or other discounted strategy
    MessageLayout discounted_fee_layout = 7;

    google.protobuf.BoolValue should_use_discounted_fee = 8;

    MessageLayout title_upsell_layout = 9;

    // pricing disclosure information
    google.protobuf.StringValue pricing_disclosure_info = 10;

    // Flag to control whether to show the delivery fee tooltip in the store page 2x1 box
    google.protobuf.BoolValue should_hide_delivery_fee_tooltip = 11;
  }

  message ReservationData {
    google.protobuf.StringValue external_partner_id = 1;
    google.protobuf.StringValue external_merchant_id = 2;
    google.protobuf.StringValue display_text = 3;
  }

  // TODO: Use a map specific call instead of overloading info in this struct which will have map specific info
  // All fields related to map rendering on nearby/pickup tab should be housed here
  message MapPreviewData {
    DisplayStatusData display_status_data = 1;
  }
  // Deprecating. PickupFeeLayout is currently only being used by nearby map
  message PickupFeeLayout {
    google.protobuf.StringValue display_pickup_fee = 1;
  }

  message DeliveryTimeLayout {
    google.protobuf.StringValue title = 1; // "35 min", "3-5 business days"
    google.protobuf.StringValue subtitle = 2; // "delivery time", "arrives in"
    Modal tooltip = 3;
    google.protobuf.StringValue title_color = 4;
    // title icon
    Icon title_icon = 6;
    // title style: optional, default styling if its null or unknown
    common.FormatStyle title_style = 7;
    // button. used for scheduling chevron
    ConfigurableButton button = 8;
  }

  message MarketplaceCateringLayout {
    google.protobuf.StringValue name = 1;
    google.protobuf.StringValue title = 2;
    MarketplaceCateringDetailsLayout marketplace_catering_mx_layout = 3; // deprecated
    MarketplaceCateringDetailsLayout marketplace_catering_dx_layout = 4; // deprecated
    MarketplaceCateringDetailsLayout marketplace_catering_support_layout = 5; // deprecated
    repeated MarketplaceCateringDetailsLayout marketplace_catering_store_display_module = 6;
  }

  message MarketplaceCateringDetailsLayout {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue subtitle = 2;
  }

  message FulfillmentToggleLayout {
    PillSegmentLayout first_fulfillment_layout = 1;
    PillSegmentLayout second_fulfillment_layout = 2;

    message PillSegmentLayout {
      // no title for now, as title messaging is dependent on info that is unbeknownst by BE (group cart status)
      google.protobuf.StringValue subtitle = 1;
    }
  }

  message HomeChefDeliveryScheduleLayout {
    repeated DateWithDisplayString delivery_dates = 1;

    message DateWithDisplayString {
      google.protobuf.Timestamp delivery_date = 1;
      google.protobuf.StringValue date_display_string = 2;
      google.protobuf.StringValue day_of_week_display_string = 3;
    }
  }
}

message MxInfoDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.StringValue website = 1;
    google.protobuf.StringValue phoneNo = 2;
    StoreHeaderDM.Address address = 3;
    OperationInfo operation_info = 4;
    dayparts.DayOfWeek day_of_week = 5;
  }

  message OperationInfo {
    OperationStatusInfo operation_status_info = 1;
    OperationHourInfo store_operation_hour_info = 2;
    OperationHourInfo doordash_operation_hour_info = 3;
  }

  message OperationStatusInfo {
    google.protobuf.StringValue status = 1 [deprecated = true]; // use operation_status instead
    google.protobuf.StringValue description = 2; // "accepting Doordash orders till 9:40 pm"
    OperationStatus operation_status = 3;
  }

  message OperationHourInfo {
    google.protobuf.StringValue description = 1; // eg "the hours store accepts Doordash orders"
    OperationHours operation_hours = 2 [deprecated = true]; // use operation_schedule instead
    repeated OperationHours operation_schedule = 3;
  }

  message OperationHours {
    dayparts.DayOfWeek day_of_week = 1;

    // time is based on store timezone eg "11AM - 8:40PM"
    // absent time_slot indicates store is closed on the day
    repeated google.protobuf.StringValue time_slot = 2;
  }

  enum OperationStatus {
    OPEN = 0;
    OPEN_CLOSING_SOON = 1;
    CLOSED = 2;
    CLOSED_OPENING_SOON = 3;
    UNAVAILABLE = 4;
  }
}

// common definition for callouts, messages, info
message MessageLayout {
  google.protobuf.StringValue title = 1;
  // DLS value for title's text color
  google.protobuf.StringValue title_color = 6;
  google.protobuf.StringValue subtitle = 2;
  // DLS value for subtitle's text color
  google.protobuf.StringValue subtitle_color = 7;
  // A list of callout messages decorated around the subtitle. Each callout can be a message with icon in the middle.
  repeated common.MessageWithIcon subtitle_callouts = 16;
  Modal tooltip = 3;
  google.protobuf.StringValue icon_url = 4;
  google.protobuf.StringValue action_url = 5;
  Logo logo = 8;
  repeated ConfigurableButton buttons = 9;

  google.protobuf.StringValue strikethrough_text = 10;
  google.protobuf.StringValue strikethrough_text_color = 11;

  Icon icon = 12;

  google.protobuf.StringValue background_color = 13;
  google.protobuf.StringValue background_image_url = 14;

  Badge badge = 15;

  enum Logo {
    UNKNOWN = 0;
    DASHPASS = 1;
  }
}

message Icon {
  google.protobuf.StringValue name = 1;
  google.protobuf.StringValue color = 2;
  google.protobuf.UInt32Value size = 3;
}

message MenuBookDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.StringValue name = 1;
    google.protobuf.StringValue description = 2;
    repeated Menu menus = 3;
    repeated Category content = 4;
    google.protobuf.StringValue display_open_hours = 5;
    google.protobuf.Int64Value current_menu_id = 6;
    Image image = 7;
    repeated Category bookmarks = 8;
    google.protobuf.BoolValue should_hide_menu_book_header = 9;
    // menu machine translation experiment (https://doordash.atlassian.net/browse/LFP-1)
    google.protobuf.StringValue current_menu_locale = 10;
  }

  message Menu {
    google.protobuf.Int64Value id = 1;
    google.protobuf.StringValue name = 2;
    repeated OpenHour open_hours = 3;
    google.protobuf.StringValue display_open_hours = 4;

    message OpenHour {
      google.protobuf.StringValue open_time = 1;
      google.protobuf.StringValue close_time = 2;
    }
  }

  message Category {
    google.protobuf.Int64Value id = 1;
    google.protobuf.StringValue name = 2;
    google.protobuf.UInt32Value numItems = 3;
    DMNext next = 4;
    Image image = 5;
    google.protobuf.Struct logging = 6;
  }

  message DMNext {
    google.protobuf.StringValue cursor = 1;
    google.protobuf.StringValue anchor = 2;
  }
}

message ItemSearchCustomizersDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    repeated QueryCustomizer content = 1;
  }

  message QueryCustomizer {
    // Customizer name on modal
    google.protobuf.StringValue name = 1;
    // Customizer name on pill
    google.protobuf.StringValue abbreviated_name = 2;
    QueryCustomizerFunctionType type = 3;
    repeated QueryCustomizersDisplay content = 4;

    enum QueryCustomizerFunctionType {
      UNSPECIFIED = 0;
      FILTER = 1;
      SORT = 2;
    }
  }

  message QueryCustomizersDisplay {
    QueryCustomizersDisplayType type = 1;

    // query customizers can be displayed in pill or list format
    oneof display {
      QueryCustomizerPillDisplay query_customizer_pill_display = 2;
      QueryCustomizerListDisplay query_customizer_list_display = 3;
    }

    enum QueryCustomizersDisplayType {
      UNSPECIFIED = 0;
      PILL = 1;
      LIST = 2;
    }
  }

  message QueryCustomizerPillDisplay {
    // Name will indicate sub-categories, null or empty name will indicate no sub-categories
    google.protobuf.StringValue name = 1;
    repeated QueryCustomizerPillOption query_customizer_options = 3;
  }

  message QueryCustomizerListDisplay {
    // default will indicate default list view selection
    google.protobuf.StringValue default = 1;
    repeated QueryCustomizerListOption query_customizer_options = 3;
  }

  message QueryCustomizerPillOption {
    google.protobuf.StringValue id = 1;
    google.protobuf.StringValue name = 2;
  }

  message QueryCustomizerListOption {
    google.protobuf.StringValue id = 1;
    google.protobuf.StringValue name = 2;
    google.protobuf.StringValue abbreviated_name = 3;
    google.protobuf.StringValue description = 4;
  }
}

message NullItemCollectionDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    MessageLayout null_search_response = 1;
  }
}

message ItemBundleCollectionDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.StringValue name = 1;
    repeated ItemBundle content = 2;
  }

  message ItemBundle {
    google.protobuf.StringValue id = 1;
    google.protobuf.StringValue name = 2;
    google.protobuf.StringValue description = 8;
    google.protobuf.StringValue subtotal = 3;
    repeated MessageLayout badges = 4;
    repeated StoreMenuItem items = 5;
    repeated ItemSection item_sections = 6;
    repeated google.protobuf.StringValue header_image_urls = 7;
  }

  message ItemSection {
    google.protobuf.StringValue title = 1;
    repeated StoreMenuItem items = 2;
  }
}

message ItemCarouselDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;
  google.protobuf.Struct logging = 6;

  message Data {
    google.protobuf.StringValue name = 1;
    google.protobuf.StringValue description = 2;
    repeated StoreMenuItem content = 3;

    // floating guide is used to direct the anchor on store page
    // TODO: Move this to GetStorePageFeedResponse message
    // https://doordash.atlassian.net/browse/MXR-3311
    FloatingGuide floating_guide = 4;

    message FloatingGuide {
      google.protobuf.StringValue go_up_title = 1;
      google.protobuf.StringValue go_down_title = 2;
      google.protobuf.StringValue anchor = 3;
    }
  }
}

message StoreHighlightCarouselDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    repeated StoreHighlightCarouselScreen content = 1;
    google.protobuf.BoolValue expand_on_load = 2;
  }
}

message StoreHighlightCarouselScreen {
  ScreenType type = 1;
  google.protobuf.UInt32Value sort_order = 2;

  // content screens for the carousel
  // could have different screen types in the future
  oneof screen {
    // most basic screen type that can be used for several screen types
    GenericHighlightScreen generic_screen = 3;
  }

  message GenericHighlightScreen {
    google.protobuf.StringValue header_text = 1;
    MessageLayout text = 2;
    Image background_image = 3;
    repeated feed_service.InformationalTag badges = 4;
    repeated ConfigurableButton buttons = 5;
    repeated Image images = 6;
    repeated StoreMenuItem items = 7;
    YelpInfo yelp_info = 8;
    repeated Accolade accolades = 9;
    repeated Video videos = 10;
  }

  enum ScreenType {
    UNSPECIFIED = 0;
    WELCOME_SCREEN = 1;
    MERCHANT_SPECIAL = 2;
    CUSTOMER_PHOTOS = 3;
    LINKOUT_PAGE = 4;
    TOP_DISHES = 5;
    YELP_REVIEW_SCREEN = 6;
    YELP_ACCOLADE_SCREEN = 7;
    MERCHANT_VIDEOS = 8;
  }
}

message YelpInfo {
  google.protobuf.DoubleValue rating = 1;
  google.protobuf.Int32Value reviews = 2;
  google.protobuf.StringValue overview = 3;
}

message Accolade {
  google.protobuf.StringValue title = 1;
  google.protobuf.StringValue subtitle = 2;
  google.protobuf.StringValue image_url = 3;
  google.protobuf.StringValue link_url = 4;
}

message MixedGridCarouselItem {
  google.protobuf.StringValue type = 1;

  google.protobuf.Int32Value start_row = 2;
  google.protobuf.Int32Value start_col = 3;

  // Item content in the mixed carousel
  oneof item {
    // Menu item in the mixed carousel
    StoreMenuItem store_menu_item = 4;
    // Generic card (e.g. welcome card) in the mxied carousel
    MessageLayout message_card = 5;
  }
}

message MixedGridCarouselDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;
  google.protobuf.Struct logging = 6;
  google.protobuf.UInt32Value num_rows = 7;
  google.protobuf.UInt32Value num_columns = 8;

  message Data {
    google.protobuf.StringValue name = 1;
    google.protobuf.StringValue description = 2;
    repeated MixedGridCarouselItem content = 3;
  }
}

message ItemListDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;
  google.protobuf.Struct logging = 6;

  message Data {
    google.protobuf.StringValue name = 1;
    repeated StoreMenuItem content = 2;
    google.protobuf.StringValue description = 3;
    MessageLayout callout = 4;
    MessageLayout footer = 5;
    // number of items shown on the page not hidden behind expand
    google.protobuf.UInt32Value visible_content_size = 6;
    // to support multi-tab within one menu section, a two dimensional list of StoreMenuItem
    // see mock in the doc,
    // https://docs.google.com/document/d/1NT_9BjRKUVGZX6VPTAKvl089cFdx_5N1dSEawhAP-gw/edit#bookmark=id.he9b9icxhq1i
    repeated ItemListCategory item_list_category = 7;

    message ItemListCategory {
      google.protobuf.StringValue id = 1;
      google.protobuf.StringValue name = 2;
      repeated StoreMenuItem content = 3;
    }
  }
}

message StoreMenuItem {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue name = 2;
  google.protobuf.StringValue description = 3;
  google.protobuf.StringValue display_price = 4;
  // shown under an item
  google.protobuf.StringValue callout_display_string = 7;
  // displayed to the left of the price
  google.protobuf.StringValue dynamic_label_display_string = 11;
  // shown under the callout, or in place of a blank callout
  DisplaySecondaryCallout secondary_callout = 13;
  // displayed to the right of the price
  google.protobuf.StringValue rating_display_string = 14;
  Image image = 5;
  // deprecated: please use quick_add_context for all quick add functionality
  OrderItemDetails order_item_details = 8;
  // included for quick add functionality
  QuickAddContext quick_add_context = 12;
  DMNext next_cursor = 9;
  google.protobuf.StringValue campaign_id = 10; // item can be displayed as part of a campaign, required for logging.
  reserved 6; // do not use
  google.protobuf.Struct logging = 15;
  google.protobuf.StringValue store_id = 16;
  // Serving size one pager - https://docs.google.com/document/d/1kGfOjbZZUokasLeXjO1MFmJ68hdYB1RusEVwpQjBF2g/edit#
  google.protobuf.StringValue serving_size_display_string = 17;
  // associated dietary tags for item
  repeated common.DietaryTag dietary_tags = 18;
  // display item strikethrough price behind the display_price
  google.protobuf.StringValue display_strikethrough_price = 19;
  // savelists the item belongs to
  repeated Savelist savelists = 20;
  repeated MessageLayout badges = 21;
  // Callout text type to help clients distinguish between different kinds of callouts and filter items based on that.
  CalloutDisplayStringType callout_display_string_type = 22;
  // icon displayed in item description
  google.protobuf.StringValue description_icon = 23;
  // item cell type to determine grid or list
  ItemCellType cell_type = 24;
  // the minimum amount of time this item needs to be ordered in advance
  // if populated, it will signify that item is an ss catering item
  google.protobuf.Int32Value ss_min_lead_time = 25;

  message DMNext {
    google.protobuf.StringValue cursor = 1;
    // Allow for navigation to an item from another store/menu
    google.protobuf.StringValue override_navigate_url = 2;
  }

  enum CalloutDisplayStringType {
    UNSPECIFIED = 0;
    USER_GENERATED_PHOTOS_PRE_CHECKOUT_INCENTIVE = 1;
    VALUE_INSIGHT = 2;
  }

  enum ItemCellType {
    UNKNOWN = 0;
    SQUARE = 1;
    RECTANGLE = 2;
  }
}

message DisplaySecondaryCallout {
  Logo logo = 1;
  google.protobuf.StringValue text = 2;

  enum Logo {
    UNKNOWN = 0;
    DASHPASS = 1;
    REHEAT = 2;
  }
}

message OrderItemDetails {
  google.protobuf.StringValue order_item_id = 1;
  google.protobuf.StringValue order_cart_id = 2;
  google.protobuf.StringValue order_uuid = 3;
  // For quick add functionality, contains updated unit price that client will pass to cart service
  money.MonetaryFields price = 4;
  google.protobuf.StringValue special_instructions = 5;
  repeated OrderItemExtraOption options = 6;
}

message OrderItemExtraOption {
  google.protobuf.StringValue id = 1;
  google.protobuf.UInt32Value quantity = 2;
  google.protobuf.StringValue name = 3;
  repeated OrderItemExtraOption options = 4;
  google.protobuf.Int32Value charge_above = 5;
}

message DisclaimerDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.StringValue text = 1;
    repeated google.protobuf.Empty content = 2;
  }
}

message BannerDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue text = 2;
    DISPLAY_OPTION display = 3;
    repeated Modal content = 4;
    PopupContentDM popup_content = 5;
    ConfigurableButton button = 6;
    google.protobuf.StringValue background_color = 7;

    enum DISPLAY_OPTION {
      SHOW = 0;
      HIDE = 1;
    }
  }
}

message GetStorePageFeedRequest {
  // lat/lng should be the delivery location because that is used to determine
  // delivery ETA and delivery availability
  google.protobuf.DoubleValue lat = 1;
  google.protobuf.DoubleValue lng = 2;
  google.protobuf.Int64Value consumer_id = 3;
  google.protobuf.Int64Value store_id = 4;
  google.protobuf.Int64Value menu_id = 5;
  google.protobuf.Int64Value submarket_id = 6;
  google.protobuf.Int64Value district_id = 7;
  common.FulfillmentType fulfillment_type = 8;
  // Used by merchants to preview their stores and menus. When set to true, returns inactive menus/smls
  google.protobuf.BoolValue is_merchant_preview = 9;
  // encoding a list of item ids that power the item carousel
  google.protobuf.StringValue cursor = 10;
  // Indicates if the call is coming from pickup tab, in which case we need to populate additional
  // response fields such as travel_time
  google.protobuf.BoolValue is_pickup_map_preview = 11;
  // device lat/lng should be cx's actual live location because this will be used to determine travel time
  google.protobuf.DoubleValue device_lat = 12;
  google.protobuf.DoubleValue device_lng = 13;
  // this is an option field for doubledash use case
  MenuResolutionContext menu_resolution_context = 14;
  // country code
  google.protobuf.StringValue country_shortname = 15;

  // DEPRECATED: please do not use.
  // [optional] scheduled time is param to specify loading the store page for the specific time rather than
  // current time. This impacts things like the default selected menu and the closed store modal.
  google.protobuf.Timestamp scheduled_time = 16;

  // [optional] scheduled min/max time are params to specify loading the store page for a specific time window rather
  // than current time. This will eventually replace scheduled_time.
  google.protobuf.Timestamp scheduled_min_time_utc = 18;
  google.protobuf.Timestamp scheduled_max_time_utc = 19;

  // Source of the request
  EntryPointType entry_point = 17;

  // Enables clients to specify which parts of store page to return
  repeated DMGroup dm_groups = 20;

  google.protobuf.StringValue time_zone = 21;
}

// Entrypoints for the store request
enum EntryPointType {
  // unspecified
  UNSPECIFIED = 0;
  // from orders page - show popup
  ORDERS = 1;
  // from external sites (google, insta, etc) - show popup
  EXTERNAL = 2;
  // from saved store page - TBD
  SAVED_STORES = 3;
  // from Address Change
  WEB_ADDRESS_CHANGE = 4;
  // from homepage
  HOMEPAGE = 5;
  // from global search
  SEARCH = 6;
}

//
enum DMGroup {
  DM_GROUP_UNSPECIFIED = 0;
  ABOVE_THE_FOLD = 1;
  BELOW_THE_FOLD = 2;
}

message MenuResolutionContext {
  SurfaceArea menu_surface_area = 1;
}

message Modal {
  google.protobuf.StringValue title = 1;
  google.protobuf.StringValue description = 2;
  repeated Button buttons = 3;
  TimePicker available_time_windows = 4; // optional
  repeated google.protobuf.StringValue bullet_descriptions = 5;
  // Banner within the modal, currently right above buttons
  // This should only be used for dynamic banners that have variable messaging based on cx
  // For other banners that are static, use CMS
  repeated Banner banners = 6;
  // Used for more complex Modals, where we need multiple titles, or multiple sections of text
  repeated Section additional_sections = 7;
  // image to be displayed in the modal
  Image image = 8;

  message Button {
    google.protobuf.StringValue text = 1;
    google.protobuf.StringValue action = 2;
  }

  // Banner, currently above the buttons
  message Banner {
    // Banner title
    google.protobuf.StringValue title = 1;
    // Leading logo of the title
    Logo title_logo = 2;
    // Text content inside the banner
    google.protobuf.StringValue description = 3;
    // A list of buttons at the bottom of the banner
    repeated Button buttons = 4;
  }

  // Used for more complex Modals
  message Section {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue description = 2;
    repeated google.protobuf.StringValue bullet_descriptions = 5;
    MessageLayout attributed_title = 6;
  }
}

// Logo, only two right now
enum Logo {
  // required by linter, won't use in backend, treat as no icon
  LOGO_UNSPECIFIED = 0;
  // no icon
  LOGO_NONE = 1;
  // dashpass icon
  LOGO_DASHPASS = 2;
}

// deprecated, use StoreMenuItem
message MenuItem {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue name = 2;
  google.protobuf.StringValue description = 3;
  google.protobuf.StringValue display_price = 4;
  Image image = 5;
}

message ConsumerReviewPreviewDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  // stringified Facet
  google.protobuf.StringValue data_str = 5 [deprecated = true];
  Data data = 6;

  message Data {
    google.protobuf.UInt32Value max_num_stars = 1;
    ConsumerReviewData consumer_review_data = 2;
  }
}

message ConsumerReviewData {
  google.protobuf.DoubleValue avg_rating = 1;
  google.protobuf.UInt64Value num_ratings = 2;

  enum ConsumerReviewSource {
    CONSUMER_REVIEW_SOURCE_UNSPECIFIED = 0;
    CONSUMER_REVIEW_SOURCE_DOORDASH = 1;
    CONSUMER_REVIEW_SOURCE_GOOGLE = 2;
    CONSUMER_REVIEW_SOURCE_THIRD_PARTY = 3;
    CONSUMER_REVIEW_SOURCE_AI_SUMMARY = 4;
    CONSUMER_REVIEW_SOURCE_YELP = 5;
  }

  message ConsumerReview {
    google.protobuf.StringValue consumer_review_uuid = 1;
    google.protobuf.StringValue reviewer_display_name = 2; // Do not use, deprecating soon
    google.protobuf.UInt32Value star_rating = 3;
    google.protobuf.Timestamp reviewed_at = 4;
    google.protobuf.StringValue review_text = 5;
    google.protobuf.BoolValue is_verified = 6;
    // Do not use, deprecating soon
    common.Experience experience_deprecated = 7;
    Experience experience = 8;
    REVIEW_SOURCE review_source = 9; // Do not use, deprecating soon
    // item details if review has associated orders
    repeated RestaurantItem items = 10;
    ReviewerData reviewer_data = 11;
    ConsumerReviewSource consumer_review_source = 12;
    //marked up review text with tagged items
    google.protobuf.StringValue marked_up_review_text = 13;
    //tagged item details
    repeated RestaurantItem tagged_items = 14;
    // photo details for preview photo on review
    repeated ReviewPhotoDetails review_photo_details = 15;
    // number of photos attached to this review
    google.protobuf.StringValue photo_count_display_string = 16;

    enum REVIEW_SOURCE {
      UNKNOWN = 0;
      DOORDASH = 1;
      GOOGLE = 2;
      THIRD_PARTY = 3;
      YELP = 4;
    }

    message ReviewerData {
      google.protobuf.StringValue display_name = 1;
      // Repurpose existing description string to show Local Expert status + number of contributions
      google.protobuf.StringValue description = 2;
      Image profile_image = 3;
      google.protobuf.BoolValue is_verified = 4;
      google.protobuf.StringValue category_highlight_tag = 5;
      // string to map to prism name for creator profile status icon
      google.protobuf.StringValue creator_profile_status_icon = 6;
      // Upon tapping on creator name, client will call uri to load profile
      google.protobuf.StringValue creator_profile_uri = 7;
      // consumer_id
      google.protobuf.StringValue consumer_id = 8;
    }
  }

  message ReviewPhotoDetails {
    // photo url
    google.protobuf.StringValue photo_url = 1;
    // photo uuid in photo-service
    google.protobuf.StringValue photo_uuid = 2;
  }

  repeated ConsumerReview consumer_reviews = 3;
  google.protobuf.StringValue num_ratings_display_string = 4;
  google.protobuf.BoolValue insufficient_ratings = 5;
  // reviews have written texts associated with it. ratings are numbers only
  google.protobuf.UInt64Value num_reviews = 6;
  google.protobuf.StringValue num_reviews_display_string = 7;

  message GoogleReviewData {
    google.protobuf.DoubleValue avg_rating = 1;
    google.protobuf.UInt64Value num_ratings = 2;
    google.protobuf.StringValue num_ratings_display_string = 3;
  }
  GoogleReviewData google_review_data = 8;

  message StarsRatingCount {
    enum StarsRating {
      STARS_RATING_UNSPECIFIED = 0;
      ONE_STARS_RATING = 1;
      TWO_STARS_RATING = 2;
      THREE_STARS_RATING = 3;
      FOUR_STARS_RATING = 4;
      FIVE_STARS_RATING = 5;
    }

    StarsRating stars_rating = 1;
    google.protobuf.Int64Value rating_count = 2;
  }
  repeated StarsRatingCount stars_rating_count = 9;

  message ThemeMentions {
    enum ThemeSentiment {
      THEME_SENTIMENT_UNSPECIFIED = 0;
      THEME_SENTIMENT_POSITIVE = 1;
      THEME_SENTIMENT_NEGATIVE = 2;
    }

    enum ThemeLabel {
      THEME_LABEL_UNSPECIFIED = 0;
      THEME_LABEL_PRICE = 1;
      THEME_LABEL_TASTE = 2;
      THEME_LABEL_PORTIONS = 3;
      THEME_LABEL_MISSING_ITEMS = 4;
      THEME_LABEL_PACKAGING = 5;
    }

    ThemeLabel theme_label = 1;
    google.protobuf.StringValue theme_label_display_string = 2;
    google.protobuf.UInt64Value theme_mention_count = 3;
    ThemeSentiment theme_sentiment = 4;
  }

  repeated ThemeMentions theme_mentions = 10;

  ConsumerReviewSource consumer_review_source = 11;
}

message PharmaDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;
  GetItFromYourDocData get_it_from_your_doc_data = 6 [deprecated = true]; // Use data.get_it_from_your_doc_data instead

  message Data {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue description = 2;
    google.protobuf.StringValue annotation = 3;
    repeated StoreMenuItem items = 4; // Item Ex: { Name: Doxycycline, Description: 1234567 }
    repeated StoreMenuItem refill_pending_items = 5; // Item Ex: { Name: Albuterol, Description: 1234567,24-12-2021 }
    repeated StoreMenuItem transferring_items = 6; // Item Ex: { Name: Transferring, Description: 1234567 }
    GetItFromYourDocData get_it_from_your_doc_data = 7;
  }

  message GetItFromYourDocData {
    message BodyLineItem {
      google.protobuf.StringValue label = 1;
      google.protobuf.StringValue text = 2;
    }

    google.protobuf.StringValue title = 1;
    repeated BodyLineItem body_line_items = 2;
    google.protobuf.StringValue proceed_button_text = 3;
  }
}

// Deprecated, use PopupContentDM
message PopupContent {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue title = 2;
  google.protobuf.StringValue message = 3;
  Image image = 4;
  google.protobuf.BoolValue show_once = 5;
}

message PopupContentDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue message = 2;
    google.protobuf.StringValue dismiss_button_text = 3;
    google.protobuf.Struct metadata = 4;
    repeated google.protobuf.StringValue bullet_copy = 5;
    google.protobuf.BoolValue show_once = 6;
    google.protobuf.StringValue accept_button_text = 7;
    PopupContentDM dismiss_button_popup = 8;
  }
}

message MixAndMatchDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue subtitle = 2;
    repeated MixAndMatchData content = 3;
  }

  message MixAndMatchData {
    google.protobuf.StringValue id = 1;
    google.protobuf.StringValue name = 2;
    Image image = 3;
    MenuBookDM.DMNext next = 4;
  }
}

message LoyaltyDetailsDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    // consumer's loyalty code
    google.protobuf.StringValue loyalty_code = 1;
    // merchant loyalty program for the store
    string program_id = 2;
    // deprecated: use cms field
    CMSLoyaltyComponent content = 3;
    // cms content
    CMSContent cms = 4;
    // consumer data
    ConsumerData consumer_data = 5;
  }

  message CMSContent {
    reserved 3;
    Header header = 1;
    repeated CMSLoyaltyComponent components = 2;
    google.protobuf.StringValue content_identifier = 4;

    message Header {
      HeaderButton left_button = 1;
      HeaderButton right_button = 2;
    }
    message HeaderButton {
      google.protobuf.StringValue action = 1;
      bool is_hidden = 2;
    }
  }

  message ConsumerData {
    // consumer email
    google.protobuf.StringValue email = 1;
    // consumer first name
    google.protobuf.StringValue first_name = 2;
    // consumer last name
    google.protobuf.StringValue last_name = 3;
    // consumer phone number
    google.protobuf.StringValue phone_number = 4;
  }

  message CMSLoyaltyComponent {
    ToolTip tooltip = 1;
    google.protobuf.StringValue logo_uri = 2;
    google.protobuf.StringValue disclaimer = 3;
    LinkPage link_page = 4;
    ConfirmationPage confirmation_page = 5;
    UnlinkPage unlink_page = 6;
    ActivePage active_page = 7;
    google.protobuf.StringValue type = 8;
    SignupPage signup_page = 9;

    message LinkPage {
      google.protobuf.StringValue heading = 1;
      repeated google.protobuf.StringValue titles = 2;
      google.protobuf.StringValue action = 3;
      google.protobuf.StringValue banner = 4;
      google.protobuf.StringValue sign_up_uri = 5;
      google.protobuf.StringValue loyalty_code_type = 6;
      LoyaltyCodeInput loyalty_code_input = 7;
    }
  }
}

message DoorDashLoyaltyDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2; // homegrown_loyalty, integration_loyalty, visit_based_homegrown_loyalty
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    // Fields that power original homegrown_loyalty
    google.protobuf.StringValue title = 1;
    MessageLayout point_display_message = 2;
    MessageLayout upsell_display_message = 3;
    google.protobuf.StringValue current_progress_decimal_percentage = 4;
    MessageLayout earned_reward_message = 5;
    // Additional fields needed for: Dollars-off + Item-based UI revamp
    MessageLayout reward_callout_message = 6; // OPTIONAL, reward callout after user has earned reward
    google.protobuf.BoolValue is_reward_earned = 7;
    MessageLayout progress_display_message = 8;
    FacetV2 banners_carousel = 9;
    // Field needed for loyalty reward state - available vs redeemed
    MessageLayout loyalty_state_message = 10;
    // store rewards item carousel content
    RewardItemCarousel reward_item_carousel = 11;
    // new fields to power visit based programs
    google.protobuf.UInt32Value current_orders = 12;
    google.protobuf.UInt32Value total_number_orders_for_reward = 13;
    // fields to power free item reward
    RewardItemDetails reward_item_details = 14;
  }

  // reward item carousel within loyalty display module
  message RewardItemCarousel {
    repeated StoreMenuItem content = 1;
  }

  // item details of the free item reward
  message RewardItemDetails {
    google.protobuf.StringValue item_name = 1; // required
    google.protobuf.StringValue image_url = 2; // optional
  }
}

message SiblingStoresHeaderCarouselDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;
  google.protobuf.Struct logging = 6;

  message Data {
    repeated Store content = 1;
  }

  message Store {
    google.protobuf.StringValue id = 1;
    google.protobuf.StringValue name = 2;
    Image image = 3;
    DMNext next = 4;
  }

  message DMNext {
    google.protobuf.StringValue cursor = 1;
  }
}

message StoreTileCollectionDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;
  google.protobuf.Struct logging = 6;

  message Data {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue subtitle = 2;
    repeated Tile content = 3;
  }

  message Tile {
    google.protobuf.StringValue id = 1;
    google.protobuf.StringValue title = 2;
    google.protobuf.StringValue subtitle = 3;
    Image image = 4;
    Logo logo = 6;
    DMNext next = 5;
  }

  message DMNext {
    google.protobuf.StringValue cursor = 1;
  }

  enum Logo {
    UNKNOWN = 0;
    DASHPASS = 1;
  }
}

message StoreItemCollectionDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.StringValue title = 1;
    google.protobuf.StringValue subtitle = 2;
    repeated StoreItemCarousel content = 3;
  }

  message StoreItemCarousel {
    google.protobuf.StringValue id = 1;
    google.protobuf.StringValue name = 2;
    DMNext next = 3;
    repeated StoreMenuItem content = 4;

    message DMNext {
      google.protobuf.StringValue cursor = 1;
    }
  }
}

message StoreAcceleratorsDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    google.protobuf.StringValue name = 1;
    repeated StoreAcceleratorChip chips = 2;
    MixedGridCarouselDM mixed_grid_carousel = 3;
    google.protobuf.StringValue mx_phone_number = 4;
  }

  message StoreAcceleratorChip {
    google.protobuf.StringValue id = 1;
    google.protobuf.StringValue name = 2;
    google.protobuf.StringValue category = 3;
    google.protobuf.StringValue icon_uri = 4;
  }
}

message DineoutDM {
  google.protobuf.StringValue id = 1;
  google.protobuf.StringValue type = 2;
  google.protobuf.StringValue version = 3;
  google.protobuf.UInt32Value sort_order = 4;
  Data data = 5;

  message Data {
    lego.response.v1.LegoPageResponse mosaic = 1;
  }
}

message DineoutData {
  google.protobuf.BoolValue offers_dineout = 74;
  google.protobuf.Int64Value available_rewards_count = 75;
  google.protobuf.BoolValue can_check_in = 76;
  google.protobuf.BoolValue has_active_deal = 77;
}
