syntax = "proto3";
// buf:lint:ignore DIRECTORY_SAME_PACKAGE
// buf:lint:ignore PACKAGE_VERSION_SUFFIX
package merchant_integrations;

import "common/code.proto";
import "common/service_client_config.proto";
import "google/protobuf/struct.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";
import "merchant_integrations/common.proto";

option java_generic_services = true;
option java_multiple_files = true;
option java_package = "com.doordash.rpc.merchant_integrations";

// Store Onboarding Related integration
service StoreOnboardingService {
  // Store Onboarding Event
  rpc ProcessStoreOnboardingEvent(ProcessStoreOnboardingEventRequest) returns (ProcessStoreOnboardingEventResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 12000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Activate Store Integration
  rpc ActivateStoreIntegration(ActivateStoreIntegrationRequest) returns (ActivateStoreIntegrationResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Request Store Integration
  rpc RequestStoreIntegrationOnboarding(RequestStoreIntegrationOnboardingRequest) returns (RequestStoreIntegrationOnboardingResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Sync Store Integration Actions to SFDC
  rpc SyncStoreIntegrationOnboardingToSFDCBatch(SyncStoreIntegrationOnboardingToSFDCBatchRequest) returns (SyncStoreIntegrationOnboardingToSFDCBatchResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 60000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Update Store Integration
  rpc UpdateStoreIntegrationOnboarding(UpdateStoreIntegrationOnboardingRequest) returns (UpdateStoreIntegrationOnboardingResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Store Onboarding Events
  rpc GetStoreOnboardingEvents(GetStoreOnboardingEventsRequest) returns (GetStoreOnboardingEventsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Store Onboarding Event Locations
  rpc GetStoreOnboardingEventLocations(GetStoreOnboardingEventLocationsRequest) returns (GetStoreOnboardingEventLocationsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Store Onboarding Event For Self Serve MX
  // store_id is used to get onboarding_code to look up Store Onboarding event
  rpc GetSelfServeStoreOnboardingEventsByStoreId(GetSelfServeStoreOnboardingEventsByStoreIdRequest) returns (GetSelfServeStoreOnboardingEventsByStoreIdResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Store Onboarding Code
  rpc GetOnboardingCode(GetOnboardingCodeRequest) returns (GetOnboardingCodeResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Internal id from Onboarding Code
  rpc GetInternalIdFromOnboardingCode(GetInternalIdFromOnboardingCodeRequest) returns (GetInternalIdFromOnboardingCodeResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Store Onboarding Code
  rpc SubmitStoreOnboardingJob(SubmitStoreOnboardingJobRequest) returns (SubmitStoreOnboardingJobResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  //Submit list of onboarding job requests (uploaded in a csv) and return code of each
  rpc SubmitStoreOnboardingJobsCSV(SubmitStoreOnboardingJobsCSVRequest) returns (SubmitStoreOnboardingJobsCSVResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Store Onboarding Code
  rpc GetStoreOnboardingJobReportByBatchId(GetStoreOnboardingJobReportByBatchIdRequest) returns (GetStoreOnboardingJobReportByBatchIdResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Store Onboarding Code
  rpc GetStoreOnboardingJobReportByStoreId(GetStoreOnboardingJobReportByStoreIdRequest) returns (GetStoreOnboardingJobReportByStoreIdResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Submit Store Onboarding Menu QA Job
  rpc SubmitStoreOnboardingMenuQAJob(SubmitStoreOnboardingMenuQAJobRequest) returns (SubmitStoreOnboardingMenuQAJobResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Abandon Store Onboarding
  rpc AbandonStoreOnboarding(AbandonStoreOnboardingRequest) returns (AbandonStoreOnboardingResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Approve Store Onboarding Menus
  rpc ApproveStoreOnboardingMenus(ApproveStoreOnboardingMenusRequest) returns (ApproveStoreOnboardingMenusResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Activate Store Integration
  // Note: ActivateStoreOnboarding is for bulk activation, which is the V2 for the POS onboarding system.
  // This API is different from ActivateStoreIntegration, which currently only serving Mx self-serve onboarding from mx portal and will be deprecated in the future
  rpc ActivateStoreOnboarding(ActivateStoreOnboardingRequest) returns (ActivateStoreOnboardingResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Current Pos Onboarding Status
  rpc GetCurrentStoreOnboardingStatus(GetCurrentStoreOnboardingStatusRequest) returns (GetCurrentStoreOnboardingStatusResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Latest Store Onboarding job by store id
  rpc GetLatestStoreOnboardingJobByStoreId(GetLatestStoreOnboardingJobByStoreIdRequest) returns (GetLatestStoreOnboardingJobByStoreIdResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get Store Onboarding latest job by store id
  rpc GetAllLatestStoreOnboardingJobs(GetAllLatestStoreOnboardingJobsRequest) returns (GetAllLatestStoreOnboardingJobsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 7000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Fetch DoorDash business and store list for onboarding purpose
  rpc FetchBusinessStoreListForOnboarding(FetchBusinessStoreListForOnboardingRequest) returns (FetchBusinessStoreListForOnboardingResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Process Store Onboarding
  rpc ProcessStoreOnboarding(ProcessStoreOnboardingRequest) returns (ProcessStoreOnboardingResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Store Onboarding Pull and Upsert Menu
  rpc StoreOnboardingPullAndUpsertMenuJob(StoreOnboardingPullAndUpsertMenuJobRequest) returns (StoreOnboardingPullAndUpsertMenuJobResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get failed address matching Store Onboarding events
  rpc GetAllFailedAddressMatchingOnboardingEvents(GetAllFailedAddressMatchingOnboardingEventsRequest) returns (GetAllFailedAddressMatchingOnboardingEventsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // SSIO Onboarding - SSIO needs extra layer as these requests comes from external source
  // SSIO submit store onboarding job
  rpc SubmitStoreOnboardingJobSSIO(SubmitStoreOnboardingJobSSIORequest) returns (SubmitStoreOnboardingJobSSIOResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // SSIO Get Latest Store Onboarding job by store id
  rpc GetLatestStoreOnboardingJobSSIO(GetLatestStoreOnboardingJobSSIORequest) returns (GetLatestStoreOnboardingJobSSIOResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // SSIO Activate Store Integration
  rpc ActivateStoreOnboardingSSIO(ActivateStoreOnboardingSSIORequest) returns (ActivateStoreOnboardingSSIOResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // COO store menu relink
  rpc RelinkStoreMenuForCOO(RelinkStoreMenuForCOORequest) returns (RelinkStoreMenuForCOOResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // SSIO Pull And Upsert Menu
  rpc StoreOnboardingPullAndUpsertMenuJobSSIO(StoreOnboardingPullAndUpsertMenuJobSSIORequest) returns (StoreOnboardingPullAndUpsertMenuJobSSIOResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // SSIO endpoint to create a net new Mx signup link
  rpc CreateStoreOnboardingSignupLinkSSIO(CreateStoreOnboardingSignupLinkSSIORequest) returns (CreateStoreOnboardingSignupLinkSSIOResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Abandon Store Onboarding
  rpc ResetStoreOnboarding(ResetStoreOnboardingRequest) returns (ResetStoreOnboardingResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }

  // Get all jobs for business and provider for a given status
  rpc GetAllJobsForBusinessAndProviderForSpecificStatus(GetAllJobsForBusinessAndProviderForSpecificStatusRequest) returns (GetAllJobsForBusinessAndProviderForSpecificStatusResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
  }

  // approve or abandon the pending confirmation jobs from Mx
  rpc ApproveOrAbandonStoreOnboardingJobs(ApproveOrAbandonStoreOnboardingJobsRequest) returns (ApproveOrAbandonStoreOnboardingJobsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
  }

  // Get or create integration sign up
  rpc GetOrCreateIntegrationSignUp(GetOrCreateIntegrationSignUpRequest) returns (GetOrCreateIntegrationSignUpResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
    option (service_client.client_method_config).retry_config.max_attempts = 3;
    // default circuit breaker config
  }
}

// Store Onboarding Event Request
message ProcessStoreOnboardingEventRequest {
  // Event Type
  EventType event_type = 1;
  // Provider type used
  google.protobuf.StringValue provider_type = 2;
  // Store's location id
  google.protobuf.StringValue location_id = 3;
  // Store's location group id
  google.protobuf.StringValue location_group_id = 4;
  // DoorDash Store Id
  google.protobuf.Int64Value store_id = 5;
  // Provider Business Id
  google.protobuf.Int64Value business_id = 6;
  // Store related details
  StoreDetails store_details = 7;
  // Event creator
  EventCreatedBy event_created_by = 8;
  // Event creation time
  google.protobuf.Timestamp event_created_at = 9;
  // Event updated time
  google.protobuf.Timestamp event_updated_at = 10;
  // Store location name
  google.protobuf.StringValue location_name = 11;
  // Json event body
  google.protobuf.Struct event_body = 12;
  // Event Status Type
  EventStatus event_status = 13;
  // Onboarding Code
  google.protobuf.StringValue onboarding_code = 14;
  // expected_go_live_date (optional) ISO format: 2022-04-15
  google.protobuf.StringValue expected_go_live_date = 15;
  // onboarding_version format: v1/v2
  google.protobuf.StringValue onboarding_version = 16;
  // mx_decision_marker_email (optional for legacy SOW Px)
  google.protobuf.StringValue mx_decision_maker_email = 17;
}

// Store Onboarding Event Response
message ProcessStoreOnboardingEventResponse {
  // Store Onboarding Event Response details
  StoreOnboardingEventResult results = 1;
}

// Store related details
message StoreDetails {
  // Store name
  google.protobuf.StringValue name = 1;
  // Store address_line_1
  google.protobuf.StringValue address_line_1 = 2;
  // Store address_line_2
  google.protobuf.StringValue address_line_2 = 3;
  // Store city
  google.protobuf.StringValue city = 4;
  // Store state
  google.protobuf.StringValue state = 5;
  // Store zip_code
  google.protobuf.StringValue zip_code = 6;
  // Store country
  google.protobuf.StringValue country = 7;
  // Latitude of Store location
  google.protobuf.DoubleValue lat = 8;
  // Longitude of Store location
  google.protobuf.DoubleValue lng = 9;
}

// Event creator's details
message EventCreatedBy {
  // creator's email
  google.protobuf.StringValue email = 1;
  // creator's first_name
  google.protobuf.StringValue first_name = 2;
  // creator's last_name
  google.protobuf.StringValue last_name = 3;
  // creator's phone
  google.protobuf.StringValue phone = 4;
}

// Store Onboarding Event Response details
message StoreOnboardingEventResult {
  // Response's error code
  code.Code code = 1;
  // Response's detail
  google.protobuf.StringValue error = 2;
}

// Event Statue Type
enum EventStatus {
  // New
  EVENT_STATUS_NEW_UNSPECIFIED = 0;
  // Processed
  EVENT_STATUS_PROCESSED = 1;
  // Overridden
  EVENT_STATUS_OVERRIDDEN = 2;
  // Invalid
  EVENT_STATUS_INVALID = 3;
  // STORE_ADDRESS_MATCH_FAILED
  EVENT_STATUS_STORE_ADDRESS_MATCH_FAILED = 4;
  // AUTOMATION_TRIGGERED
  EVENT_STATUS_AUTOMATION_TRIGGERED = 5;
  // AUTOMATION_NOT_TRIGGERED
  EVENT_STATUS_AUTOMATION_NOT_TRIGGERED = 6;
}

// Event Type
enum EventType {
  // Create
  EVENT_TYPE_CREATE_UNSPECIFIED = 0;
  // Update
  EVENT_TYPE_UPDATE = 1;
  // Remove
  EVENT_TYPE_REMOVE = 2;
  // Unknown
  EVENT_TYPE_UNKNOWN = 3;
}

// Activate Integration Status Type
enum ActivateIntegrationStatus {
  // Status Unknown
  ACTIVATE_INTEGRATION_STATUS_UNSPECIFIED = 0;
  // Activation Succeeded
  ACTIVATE_INTEGRATION_STATUS_SUCCESS = 1;
  // Activation failed
  ACTIVATE_INTEGRATION_STATUS_FAIL = 2;
  // Invalid input
  ACTIVATE_INTEGRATION_STATUS_INVALID = 3;
}

// Activate store integration request
message ActivateStoreIntegrationRequest {
  // DoorDash Store Id
  google.protobuf.Int64Value store_id = 1;
}

// Activate store integration response
message ActivateStoreIntegrationResponse {
  // Activate integration status
  ActivateIntegrationStatus activation_status = 1;
  // Response's detail
  google.protobuf.StringValue error_details = 2;
  // client friendly boolean to indicate whether the activation is successful (if client does not have the gRPC status code mapping)
  google.protobuf.BoolValue is_success = 3;
}

// Activate Integration Status Type
enum IntegrationOnboardingStatus {
  // Status Unknown
  INTEGRATION_ONBOARDING_STATUS_UNSPECIFIED = 0;
  // Activation Succeeded
  INTEGRATION_ONBOARDING_STATUS_SUCCESS = 1;
  // Activation failed
  INTEGRATION_ONBOARDING_STATUS_FAIL = 2;
  // Invalid input
  INTEGRATION_ONBOARDING_STATUS_INVALID = 3;
}

// Activate store integration request
message RequestStoreIntegrationOnboardingRequest {
  // DoorDash Store Id
  google.protobuf.Int64Value store_id = 1;
  // Business Id
  google.protobuf.Int64Value business_id = 2;
  // Integration provider type
  google.protobuf.StringValue provider_type = 3;
  // request user
  google.protobuf.StringValue primary_email = 4;
}

// Activate store integration response
message RequestStoreIntegrationOnboardingResponse {
  // Request integration onboarding status
  IntegrationOnboardingStatus status = 1;
  // Response's detail
  google.protobuf.StringValue error_details = 2;
}

// Activate store integration request
message UpdateStoreIntegrationOnboardingRequest {
  // DoorDash Store Id
  google.protobuf.Int64Value store_id = 1;
  // POS integration onboarding action
  google.protobuf.StringValue action = 2;
}

// Activate store integration response
message UpdateStoreIntegrationOnboardingResponse {
  // Update integration onboarding status
  IntegrationOnboardingStatus status = 1;
  // Response's detail
  google.protobuf.StringValue error_details = 2;
}

// Get Store Onboarding Events Request
message GetStoreOnboardingEventsRequest {
  // Provider type
  google.protobuf.StringValue provider_type = 1;

  // business_id
  google.protobuf.Int64Value business_id = 2;

  // Event status
  EventStatus event_status = 3;
}

// Get Store Onboarding Events Response
message GetStoreOnboardingEventsResponse {
  // Provider details
  repeated StoreOnboardingEvent store_onboarding_event = 1;

  // Status code
  code.Code code = 2;

  // Error message
  google.protobuf.StringValue error = 3;
}

// Store Onboarding Event
message StoreOnboardingEvent {
  // Event Type
  EventType event_type = 1;

  // Provider type used
  google.protobuf.StringValue provider_type = 2;

  // Store's location id
  google.protobuf.StringValue location_id = 3;

  // Store's location group id
  google.protobuf.StringValue location_group_id = 4;

  // DoorDash Store Id
  google.protobuf.Int64Value store_id = 5;

  // Provider Business Id
  google.protobuf.Int64Value business_id = 6;

  // Store related details
  StoreDetails store_details = 7;

  // Event creator
  EventCreatedBy event_created_by = 8;

  // Event creation time
  google.protobuf.Timestamp event_created_at = 9;

  // Event updated time
  google.protobuf.Timestamp event_updated_at = 10;

  // Store location name
  google.protobuf.StringValue location_name = 11;

  // Json event body
  google.protobuf.StringValue event_body = 12;

  // Event Status Type
  EventStatus event_status = 13;
}

// Get Store Onboarding Event Locations Request
message GetStoreOnboardingEventLocationsRequest {
  // Provider type
  google.protobuf.StringValue provider_type = 1;

  // Location group id
  google.protobuf.StringValue location_group_id = 2;

  // Event status
  EventStatus event_status = 3;
}

// Get Store Onboarding Event Locations Response
message GetStoreOnboardingEventLocationsResponse {
  // Location ids
  repeated google.protobuf.StringValue location_id = 1;

  // Status code
  code.Code code = 2;

  // Error message
  google.protobuf.StringValue error = 3;
}

// sync store integration status to SFDC request
message SyncStoreIntegrationOnboardingToSFDCBatchRequest {
  // DoorDash Store Id
  repeated google.protobuf.Int64Value store_id = 1;
}

// sync store integration status to SFDC Response
message SyncStoreIntegrationOnboardingToSFDCBatchResponse {
  // Status code
  code.Code code = 1;
  // Response's detail
  google.protobuf.StringValue error_details = 2;
}

// Get Self Serve Store Onboarding Event Locations By Store Id Request
message GetSelfServeStoreOnboardingEventsByStoreIdRequest {
  // Provider type
  google.protobuf.StringValue provider_type = 1;

  // store id
  google.protobuf.Int64Value store_id = 2;

  // Event status
  EventStatus event_status = 3;
}

// Get Self Serve Store Onboarding Event Locations By Store Id
message GetSelfServeStoreOnboardingEventsByStoreIdResponse {
  // Provider details
  repeated StoreOnboardingEvent store_onboarding_event = 1;

  // Status code
  code.Code code = 2;

  // Error message
  google.protobuf.StringValue error = 3;
}

// Get Store Onboarding Code Request
message GetOnboardingCodeRequest {
  // DoorDash internal id
  google.protobuf.StringValue internal_id = 1;
  // DoorDash id type
  InternalIdType id_type = 2;
}

// Get Store Onboarding Code Response
message GetOnboardingCodeResponse {
  // Onboarding code
  google.protobuf.StringValue code = 1;

  // Error message
  google.protobuf.StringValue error = 2;
}

// Get Internal Id from Store Onboarding Code Request
message GetInternalIdFromOnboardingCodeRequest {
  // DoorDash onboarding code
  google.protobuf.StringValue code = 1;
  // DoorDash id type
  InternalIdType id_type = 2;
}

// Get Internal Id from Store Onboarding Code Response
message GetInternalIdFromOnboardingCodeResponse {
  // DoorDash internal id
  google.protobuf.StringValue internal_id = 1;
  // Error message
  google.protobuf.StringValue error = 2;
  // Status code
  code.Code code = 3;
}

// Internal Id Type
enum InternalIdType {
  // Unspecified Type
  INTERNAL_ID_TYPE_UNSPECIFIED = 0;
  // Store Type
  INTERNAL_ID_TYPE_STORE = 1;
  // Business Type
  INTERNAL_ID_TYPE_BUSINESS = 2;
}

// Onboarding Initiator Type
enum InitiatorType {
  // Unspecified Type
  INITIATOR_TYPE_UNSPECIFIED = 0;
  // Mx Business
  INITIATOR_TYPE_MX_BUSINESS = 1;
  // Mx Business Group
  INITIATOR_TYPE_MX_BUSINESS_GROUP = 2;
}

// Onboarding Initiator
message Initiator {
  // Initiator user id
  google.protobuf.Int64Value user_id = 1;
  // Initiator type
  InitiatorType type = 2;
}

// Submit Store Onboarding Job Response Request
message SubmitStoreOnboardingJobRequest {
  // Store id
  google.protobuf.Int64Value store_id = 1;
  // Provider type
  google.protobuf.StringValue provider_type = 2;
  // Provider location_id
  google.protobuf.StringValue location_id = 3;
  // The batch_id to group onboarding jobs together (optional)
  google.protobuf.StringValue batch_id = 4;
  // Store name from provider
  google.protobuf.StringValue provider_store_name = 5;
  // mx_decision_marker_email (optional)
  google.protobuf.StringValue mx_decision_maker_email = 6;
  // provider_account_owner_email (optional)
  google.protobuf.StringValue provider_account_owner_email = 7;
  // pos_specialist_email (optional)
  google.protobuf.StringValue pos_specialist_email = 8;
  // provider_store_address (optional)
  google.protobuf.StringValue provider_store_address = 9;
  // expected_go_live_date (optional) format: 04/15/2022
  google.protobuf.StringValue expected_go_live_date = 10;
  // flag to trigger automated onboarding (optional)
  google.protobuf.BoolValue stop_automated_onboarding = 11;
  // onboarding type enum (optional)
  OnboardingType onboarding_type = 12;
  // is net new merchant onboarding (optional)
  google.protobuf.BoolValue net_new_merchant = 13;
  // Store address details (adding to support csv upload vis dev portal)
  StoreDetails store_details = 14;
  // source of creation - which flow the onboarding originated from
  google.protobuf.StringValue source = 15;
  // initiator information
  Initiator initiator = 16;
}

// Submit List of Onboarding Job Request from CSV
message SubmitStoreOnboardingJobsCSVRequest {
  // list of SubmitStoreOnboardingJobRequest
  repeated SubmitStoreOnboardingJobRequest submit_store_onboarding_job_request = 1;
  // is mx_consent required for store onboarding
  google.protobuf.BoolValue is_mx_consent_required = 2;
}

// Submit Store Onboarding Job Response
message SubmitStoreOnboardingJobResponse {
  // store onboarding job batch id
  google.protobuf.StringValue batch_id = 1;
  // status code
  code.Code code = 2;
  // Error message
  google.protobuf.StringValue error = 3;
  //store id
  google.protobuf.Int64Value store_id = 4;
  // Provider type
  google.protobuf.StringValue provider_type = 5;
  // Location id
  google.protobuf.StringValue location_id = 6;
  // Newly created integrated store onboarding ID
  google.protobuf.StringValue onboarding_id = 7;
}

// Submit List of Onboarding Jobs Response
message SubmitStoreOnboardingJobsCSVResponse {
  // list of response for each onboarded job request
  repeated SubmitStoreOnboardingJobResponse submit_store_onboarding_job_response = 1;
}

// Store onboarding job status
enum StoreOnboardingJobStatus {
  // Unspecified Type
  STORE_ONBOARDING_JOB_STATUS_UNSPECIFIED = 0;
  // Ready to onboard
  STORE_ONBOARDING_JOB_STATUS_READY_TO_ONBOARD = 1;
  // Excluded
  STORE_ONBOARDING_JOB_STATUS_EXCLUDED = 2;
  // Processing
  STORE_ONBOARDING_JOB_STATUS_PROCESSING = 3;
  // Error
  STORE_ONBOARDING_JOB_STATUS_ERROR = 4;
}

// Details on store onboarding job
message StoreOnboardingJobDetails {
  // Store onboarding job status
  StoreOnboardingJobStatus status = 1;
  // Exclusion code for why the job is excluded during validation
  google.protobuf.StringValue exclusion_code = 2;
  // Exclusion details
  google.protobuf.StringValue exclusion_details = 3;
}

// Details on store onboarding status
message StoreOnboardingStatusDetails {
  // Store onboarding status
  google.protobuf.StringValue status = 1;
}

// Details on store onboarding menus
message StoreOnboardingMenu {
  // menu id
  google.protobuf.StringValue menu_id = 1;
  // menu preview link
  google.protobuf.StringValue preview_link = 2;
  // menu external facing uuid
  google.protobuf.StringValue menu_uuid = 3;
  // menu name
  google.protobuf.StringValue menu_name = 4;
}

// Details on store onboarding job report
message StoreOnboardingJobReport {
  // Store id
  google.protobuf.Int64Value store_id = 1;
  // Provider type
  google.protobuf.StringValue provider_type = 2;
  // Batch id
  google.protobuf.StringValue batch_id = 3;
  // Location id
  google.protobuf.StringValue location_id = 4;
  // Store onboarding job details
  StoreOnboardingJobDetails store_onboarding_job_details = 5;
  // Store onboarding status details
  StoreOnboardingStatusDetails store_onboarding_status_details = 6;
  // integration specialist
  google.protobuf.StringValue pos_specialist_email = 7;
  // onboarding id
  google.protobuf.StringValue onboarding_id = 8;
  // date_of_submission (optional) format: 04/15/2022
  google.protobuf.StringValue date_of_submission = 9;
  // Store onboarding status
  google.protobuf.StringValue status = 10;
  // Exclusion code
  google.protobuf.StringValue exclusion_code = 11;
  // Menu preview links
  repeated StoreOnboardingMenu store_onboarding_menus = 12;
  // Error message
  google.protobuf.StringValue error = 13;
  // expected_go_live_date (optional) format: 04/15/2022
  google.protobuf.StringValue expected_go_live_date = 14;
  // Store name from provider
  google.protobuf.StringValue provider_store_name = 15;
  // Exclusion code overrides
  repeated google.protobuf.StringValue exclusion_code_overrides = 16;
  // Doordash Store name
  google.protobuf.StringValue doordash_store_name = 17;
  // onboarding metadata
  google.protobuf.StringValue onboarding_meta = 18;
  // onboarding type
  OnboardingType onboarding_type = 19;
  // masked doordash store uuid (optional)
  google.protobuf.StringValue doordash_store_uuid = 20;
  // address of the store(optional)
  google.protobuf.StringValue formatted_address = 21;
  // change_of_ownership_date
  google.protobuf.Timestamp change_of_ownership_cutoff_time = 22;
}

// Get Store Onboarding Report by BatchId Request
message GetStoreOnboardingJobReportByBatchIdRequest {
  // Batch id
  google.protobuf.StringValue batch_id = 1;
}

// Get Store Onboarding Report by BatchId Response
message GetStoreOnboardingJobReportByBatchIdResponse {
  // store onboarding job report
  repeated StoreOnboardingJobReport store_onboarding_job_report = 1;
}

// Get Store Onboarding Report by StoreId Request
message GetStoreOnboardingJobReportByStoreIdRequest {
  // Store id
  google.protobuf.Int64Value store_id = 1;
}

// Get Store Onboarding Report by StoreId Response
message GetStoreOnboardingJobReportByStoreIdResponse {
  // store onboarding job report
  repeated StoreOnboardingJobReport store_onboarding_job_report = 1;
}

// Submit Store Onboarding Menu QA Job Request
message SubmitStoreOnboardingMenuQAJobRequest {
  // store onboarding id
  google.protobuf.StringValue onboarding_id = 1;
  // pos menu job id
  google.protobuf.StringValue pos_menu_job_id = 2;
}

// Submit Store Onboarding Menu QA Job Response
message SubmitStoreOnboardingMenuQAJobResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
}

// abandon Store Onboarding Request
message AbandonStoreOnboardingRequest {
  // Store id
  google.protobuf.Int64Value store_id = 1;
  // Store onboarding status id
  google.protobuf.StringValue onboarding_id = 2;
  // Exclusion code
  ExclusionCode exclusion_code = 3;
}

// abandon Store Onboarding Response
message AbandonStoreOnboardingResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
}

// approve Store Onboarding Menus Request
message ApproveStoreOnboardingMenusRequest {
  // Store onboarding status id
  google.protobuf.StringValue onboarding_id = 1;
}

// approve Store Onboarding Menus  Response
message ApproveStoreOnboardingMenusResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
}

// Activate Store Onboarding Request
message ActivateStoreOnboardingRequest {
  // Store onboarding status id
  google.protobuf.StringValue onboarding_id = 1;
}

// Activate Store Onboarding Response
message ActivateStoreOnboardingResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
}

// Get current Store Onboarding Report by StoreId Request
message GetCurrentStoreOnboardingStatusRequest {
  // Store id
  google.protobuf.Int64Value store_id = 1;
}

// Get current Store Onboarding Report by StoreId Request
message GetCurrentStoreOnboardingStatusResponse {
  // active onboarding
  StoreOnboardingJobReport active_onboarding = 1;
}

// Get latest Store Onboarding Report by StoreId Request
message GetLatestStoreOnboardingJobByStoreIdRequest {
  // Store id
  google.protobuf.Int64Value store_id = 1;
}

// Get latest Store Onboarding Report by StoreId Response
message GetLatestStoreOnboardingJobByStoreIdResponse {
  // store onboarding job report
  StoreOnboardingJobReport store_onboarding_job_report = 1;
}

// Get all latest Store Onboarding jobs Report Request
message GetAllLatestStoreOnboardingJobsRequest {
  // all active store onboarding to be returned
  google.protobuf.BoolValue all_stores = 1;
  // all active store onboarding jobs for a Provider
  google.protobuf.StringValue provider_type = 2;
  // optional field with a default of 30 days
  // the response will contain only the jobs onboarded within the past n days
  google.protobuf.Int32Value days_to_show = 3;
  // fetching onboarding for the given onboarding type
  OnboardingType onboarding_type = 4;
  // use minimal data for the response, usually for rendering large list view
  google.protobuf.BoolValue minimal_data = 5;
}

// Get all latest Store Onboarding jobs Report Response
message GetAllLatestStoreOnboardingJobsResponse {
  // all latest store onboarding job report
  repeated StoreOnboardingJobReport store_onboarding_job_report = 1;
}

// Onboarding store candidate
message OnboardingStoreCandidate {
  // store name
  google.protobuf.StringValue store_uuid = 1;
  // masked store_uuid for onboarding purpose
  google.protobuf.StringValue store_name = 2;
  // store address
  google.protobuf.StringValue address = 3;
  // store latitude
  google.protobuf.DoubleValue lat = 4;
  // store longitude
  google.protobuf.DoubleValue lng = 5;
  // store is active on DoorDash
  google.protobuf.BoolValue is_active = 6;
  // store business uuid
  google.protobuf.StringValue business_uuid = 7;
  // store business name
  google.protobuf.StringValue business_name = 8;
  // is store active on the integration
  google.protobuf.BoolValue is_active_on_integration = 9;
  // is store eligible to onboard
  google.protobuf.BoolValue is_eligible_to_onboard = 10;
  // store provider type
  google.protobuf.StringValue provider_type = 11;
  // store location id
  google.protobuf.StringValue location_id = 12;
  // store Id
  google.protobuf.Int64Value store_id = 13;
}

// Fetch DoorDash business and store list for onboarding purpose request
message FetchBusinessStoreListForOnboardingRequest {
  // DoorDash user id that requests the store onboarding candidates
  google.protobuf.StringValue user_id = 1;
  // Pagination offset
  google.protobuf.Int32Value offset = 2;
  // Pagination limit
  google.protobuf.Int32Value limit = 3;
  // The pos provider that fetching the list of stores
  google.protobuf.StringValue provider = 4;
}

// Fetch DoorDash business and store list for onboarding purpose response
message FetchBusinessStoreListForOnboardingResponse {
  // all active store onboarding to be returned
  google.protobuf.StringValue business_uuid = 1;
  // all active store onboarding jobs for a Provider
  google.protobuf.StringValue business_name = 2;
  // onboarding store candidates
  repeated OnboardingStoreCandidate stores = 3;
  // pagination offset
  google.protobuf.Int32Value offset = 4;
  // pagination limit
  google.protobuf.Int32Value limit = 5;
  // pagination total count
  google.protobuf.Int32Value total_count = 6;
}

// Process Store Onboarding Request
message ProcessStoreOnboardingRequest {
  // Store onboarding status id
  google.protobuf.StringValue onboarding_id = 1;
  // Validation exclusion codes
  repeated google.protobuf.StringValue exclusion_code_overrides = 2;
}

// Process Store Onboarding Response
message ProcessStoreOnboardingResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
}

// Store Onboarding Pull and Upsert Menu Request
message StoreOnboardingPullAndUpsertMenuJobRequest {
  // Store onboarding status id
  google.protobuf.StringValue onboarding_id = 1;
}

// Store Onboarding Pull and Upsert Menu Response
message StoreOnboardingPullAndUpsertMenuJobResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
}

//  Get failed address matching Store Onboarding events Request
message GetAllFailedAddressMatchingOnboardingEventsRequest {
  // all failed address matching Store Onboarding events
  google.protobuf.BoolValue all_stores = 1;
  // all failed address matching Store Onboarding events for a Provider
  google.protobuf.StringValue provider_type = 2;
}

//  Get failed address matching Store Onboarding events Response
message GetAllFailedAddressMatchingOnboardingEventsResponse {
  // all all failed address matching Store Onboarding events report
  repeated StoreOnboardingJobReport store_onboarding_job_report = 1;
}

// SSIO messages
// SSIO Submit Store Onboarding Job Response Request
message SubmitStoreOnboardingJobSSIORequest {
  // masked version for the store id
  google.protobuf.StringValue onboarding_store_uuid = 1;
  // Provider type
  google.protobuf.StringValue provider_type = 2;
  // Provider location_id
  google.protobuf.StringValue location_id = 3;
  // Store name from provider
  google.protobuf.StringValue provider_store_name = 4;
  // provider_store_address (optional)
  google.protobuf.StringValue provider_store_address = 5;
  // DoorDash user id
  google.protobuf.StringValue user_id = 6;
}

// SSIO Submit Store Onboarding Job Response
message SubmitStoreOnboardingJobSSIOResponse {
  // store onboarding job batch id
  google.protobuf.StringValue batch_id = 1;
  // status code
  code.Code code = 2;
  // Error message
  google.protobuf.StringValue error = 3;
  //store id
  google.protobuf.Int64Value store_id = 4;
  // store onboarding id
  google.protobuf.StringValue onboarding_id = 5;
}

// SSIO Get latest Store Onboarding Report Request
message GetLatestStoreOnboardingJobSSIORequest {
  // Provider type
  google.protobuf.StringValue provider_type = 1;
  // Provider location_id
  google.protobuf.StringValue location_id = 2;
  // masked version for the store id
  google.protobuf.StringValue onboarding_store_uuid = 3;
  // Store onboarding status id
  google.protobuf.StringValue onboarding_id = 4;
}

// SSIO Get latest Store Onboarding Report Response
message GetLatestStoreOnboardingJobSSIOResponse {
  // store onboarding job report
  StoreOnboardingJobReport store_onboarding_job_report = 1;
}

// SSIO Activate Store Onboarding Request
message ActivateStoreOnboardingSSIORequest {
  // Store onboarding provider type
  google.protobuf.StringValue provider_type = 1;
  // Store onboarding location id
  google.protobuf.StringValue location_id = 2;
  // masked version for the store id
  google.protobuf.StringValue onboarding_store_uuid = 3;
  // Store onboarding status id
  google.protobuf.StringValue onboarding_id = 4;
  // DoorDash user id
  google.protobuf.StringValue user_id = 5;
}

// SSIO Activate Store Onboarding Response
message ActivateStoreOnboardingSSIOResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
}

// COO Store Menu Relink Request
message RelinkStoreMenuForCOORequest {
  // menu ID
  google.protobuf.StringValue menu_id = 1;
  // new store's DoorDash store id
  google.protobuf.Int64Value store_id = 2;
  // provider type
  google.protobuf.StringValue provider_type = 3;
  // new store's location id
  google.protobuf.StringValue location_id = 4;
}

// COO Store Menu Relink Response
message RelinkStoreMenuForCOOResponse {
  // status code
  code.Code code = 1;
  // error message
  google.protobuf.StringValue error = 2;
}

// SSIO Pull And Upsert Menu Request
message StoreOnboardingPullAndUpsertMenuJobSSIORequest {
  // Store onboarding provider type
  google.protobuf.StringValue provider_type = 1;
  // Store onboarding location id
  google.protobuf.StringValue location_id = 2;
  // masked version for the store id
  google.protobuf.StringValue onboarding_store_uuid = 3;
  // Store onboarding status id
  google.protobuf.StringValue onboarding_id = 4;
  // DoorDash user id
  google.protobuf.StringValue user_id = 5;
}

// SSIO Pull And Upsert Menu Response
message StoreOnboardingPullAndUpsertMenuJobSSIOResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
}

// SSIO Create Net New Mx Signup Link Request
message CreateStoreOnboardingSignupLinkSSIORequest {
  // store onboarding request provider type
  google.protobuf.StringValue provider_type = 1;
  // store onboarding request location_id
  google.protobuf.StringValue location_id = 2;
  // store onboarding request phone number
  google.protobuf.StringValue business_phone = 3;
  // store onboarding request email
  google.protobuf.StringValue email = 4;
  // onboarding request locale
  google.protobuf.StringValue locale = 5;
  // Store details for the onboarding store
  // in future show support onboarding multiple stores
  repeated StoreDetails stores = 6;
  // first name
  google.protobuf.StringValue first_name = 7;
  // last name
  google.protobuf.StringValue last_name = 8;
}

// SSIO Create Net New Mx Signup Link Response
message CreateStoreOnboardingSignupLinkSSIOResponse {
  // status code
  code.Code code = 1;
  // signup url
  google.protobuf.StringValue signup_url = 2;
  // error message
  google.protobuf.StringValue error = 3;
}

// reset Store Onboarding Request
message ResetStoreOnboardingRequest {
  // Store id
  google.protobuf.Int64Value store_id = 1;
  // Store onboarding status id
  google.protobuf.StringValue onboarding_id = 2;
  // Exclusion code
  google.protobuf.StringValue exclusion_code = 3;
}

// reset Store Onboarding Response
message ResetStoreOnboardingResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
}

// get all jobs for business and provider request
message GetAllJobsForBusinessAndProviderForSpecificStatusRequest {
  // business id
  google.protobuf.StringValue business_id = 1;
  // Provider type used
  google.protobuf.StringValue provider_type = 2;
  // store onboarding status type
  OnboardingStatusType onboarding_status_type = 3;
  // limit
  google.protobuf.Int32Value limit = 4;
}

// get all jobs for business and provider response
message GetAllJobsForBusinessAndProviderForSpecificStatusResponse {
  // store onboarding job report
  repeated StoreOnboardingJobReport store_onboarding_job_report = 1;
  // status code
  code.Code code = 2;
  // Error message
  google.protobuf.StringValue error = 3;
}

// approve or abandon store onboarding request
message ApproveOrAbandonStoreOnboardingJobsRequest {
  // list of stores to be approved
  repeated google.protobuf.StringValue approval_store_onboarding_ids = 1;
  // list of stores to be abandon
  repeated google.protobuf.StringValue abandon_store_onboarding_ids = 2;
}

//approve or abandon store onboarding jobs response
message ApproveOrAbandonStoreOnboardingJobsResponse {
  // approve or abandon response
  repeated ApproveOrAbandonStoreOnboardingJobResponse approve_or_abandon_store_onbaording_job_response = 1;
}

//approve or abandon store onboarding job response
message ApproveOrAbandonStoreOnboardingJobResponse {
  // status code
  code.Code code = 1;
  // Error message
  google.protobuf.StringValue error = 2;
  //store onboarding id
  google.protobuf.StringValue onboarding_id = 3;
}

// Get or create integration sign up
message GetOrCreateIntegrationSignUpRequest {
  // Location ID
  google.protobuf.StringValue location_id = 1;

  // Provider type
  google.protobuf.StringValue provider_type = 2;

  // Business phone number
  google.protobuf.StringValue business_phone = 3;

  // Email address
  google.protobuf.StringValue email = 4;

  // First name of the Merchant
  google.protobuf.StringValue first_name = 5;

  // Last name of the Merchant
  google.protobuf.StringValue last_name = 6;

  // Store details
  StoreDetails store_details = 7;

  // Locale (e.g., en-US)
  google.protobuf.StringValue locale = 8;
}

// Get or create integration sign up response
message GetOrCreateIntegrationSignUpResponse {
  // return either an error or get or create integration sign up message
  oneof result {
    // Error
    Error error = 1;
    // Get or create integration sign up message
    GetOrCreateIntegrationSignUpMessage get_or_create_integration_sign_up_message = 2;
  }
}

// Error message
message Error {
  // Enum error encountered
  code.Code error_code = 1;

  // Error message
  google.protobuf.StringValue error_message = 2;
}

// Get or create integration sign up message
message GetOrCreateIntegrationSignUpMessage {
  // Sign up url
  google.protobuf.StringValue signup_url = 1;
  // Onboarding Id
  google.protobuf.StringValue onboarding_id = 2;
}
