syntax = "proto3";
package logistics_pay_service;

import "common/common.proto";
import "common/money.proto";
import "common/service_client_config.proto";
import "deep_red/context.proto";
import "delivery_service/delivery_core.proto";
import "doordash.api/annotations.proto";
import "google/api/annotations.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

option java_generic_services = true;
option java_multiple_files = true;
option java_package = "com.doordash.rpc.logistics_pay_service";

service LogisticsPayService {
  option (doordash.api.service) = {
    name: "logistics-pay-service"
    url: "logistics-pay-service.service.prod.ddsd"
    port: 50051
    api_key_name: "LOGISTICS_PAY_SERVICE_API_KEY"
    name_spaces: ["logistics-pay-service"]
    owner: {
      id: "logistics-pay-default-bucket"
      name: "dx-earnings"
      slack_channel: "#eng-logistics-pay"
      email_alias: "dx-earnings@doordash.com"
    }
    target_products: [INTERNAL]
  };
  option (service_client.client_config).service_name = "logistics-pay-service";
  option (service_client.client_config).retry_config.max_attempts = 1;
  option (service_client.client_config).circuit_breaker_config.failure_rate_threshold = 1.0;

  rpc GetDasherDeliveryPay(GetDasherDeliveryPayRequest) returns (GetDasherDeliveryPayResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc BulkGetDasherDeliveryPay(BulkGetDasherDeliveryPayRequest) returns (BulkGetDasherDeliveryPayResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 3000;
  }

  rpc GetConditionalPayForDeliveryAssignment(GetConditionalPayForDeliveryAssignmentRequest) returns (GetConditionalPayForDeliveryAssignmentResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc CalculateAndSavePayForAssignment(CalculateAndSavePayForAssignmentRequest) returns (CalculateAndSavePayForAssignmentResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc CalculateAndSavePayForDelivery(CalculateAndSavePayForDeliveryRequest) returns (CalculateAndSavePayForDeliveryResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc CalculateAndSavePayEstimate(CalculateAndSavePayEstimateRequest) returns (CalculateAndSavePayEstimateResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc CalculateAndSavePayEstimateForOffer(CalculateAndSavePayEstimateForOfferRequest) returns (CalculateAndSavePayEstimateForOfferResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc GetPayEstimatesByOfferIds(GetPayEstimatesByOfferIdsRequest) returns (GetPayEstimatesByOfferIdsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc CalculateConditionalPayForDeliveryAssignment(CalculateConditionalPayForDeliveryAssignmentRequest) returns (CalculateConditionalPayForDeliveryAssignmentResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 1000;
  }

  rpc AdjustStoreBoost(AdjustStoreBoostRequest) returns (AdjustStoreBoostResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc DisableStoreBoost(DisableStoreBoostRequest) returns (DisableStoreBoostResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc AddPayTargetFromCSV(AddPayTargetFromCSVRequest) returns (AddPayTargetFromCSVResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 5000;
  }

  rpc AddPayTargetDeltaFromCSV(AddPayTargetDeltaFromCSVRequest) returns (AddPayTargetDeltaFromCSVResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 5000;
  }

  rpc DisablePayTargetFromCSV(DisablePayTargetFromCSVRequest) returns (DisablePayTargetFromCSVResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
  }

  rpc DisablePayTargetDeltaFromCSV(DisablePayTargetDeltaFromCSVRequest) returns (DisablePayTargetDeltaFromCSVResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
  }

  rpc GetStartingPointPayConfiguration(GetStartingPointPayConfigurationRequest) returns (GetStartingPointPayConfigurationResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc BatchGetStartingPointPayConfiguration(BatchGetStartingPointPayConfigurationRequest) returns (BatchGetStartingPointPayConfigurationResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc AddDeliveryAssignmentPayInput(AddDeliveryAssignmentPayInputRequest) returns (AddDeliveryAssignmentPayInputResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc AddDeliveryPayInput(AddDeliveryPayInputRequest) returns (AddDeliveryPayInputResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc GetLatestDeliveryAssignmentPayInput(GetLatestDeliveryAssignmentPayInputRequest) returns (GetLatestDeliveryAssignmentPayInputResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 200;
  }

  rpc GetLatestActiveStoreBoost(GetLatestActiveStoreBoostRequest) returns (GetLatestActiveStoreBoostResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc GetTipSuggestionContext(GetTipSuggestionContextRequest) returns (GetTipSuggestionContextResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc CalculatePostCheckoutTipSuggestionDetails(CalculatePostCheckoutTipSuggestionDetailsRequest) returns (CalculatePostCheckoutTipSuggestionDetailsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc CalculateAndUpdateMinEarningsForShift(CalculateAndUpdateMinEarningsForShiftRequest) returns (CalculateAndUpdateMinEarningsForShiftResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc AddMinEarningDelivery(AddMinEarningDeliveryRequest) returns (AddMinEarningDeliveryResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc AddZipCodePayTargetFromCSV(AddZipCodePayTargetFromCSVRequest) returns (AddZipCodePayTargetFromCSVResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc AdjustMinEarnings(AdjustMinEarningsRequest) returns (AdjustMinEarningsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 5000;
  }

  rpc GetDasherWeeklyTimeSheet(GetDasherWeeklyTimeSheetRequest) returns (GetDasherWeeklyTimeSheetResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc GetDasherWeeklyTimeSheetsInTimeRange(GetDasherWeeklyTimeSheetsInTimeRangeRequest) returns (GetDasherWeeklyTimeSheetsInTimeRangeResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc ProcessDasherWeeklyTimeSheet(ProcessDasherWeeklyTimeSheetRequest) returns (ProcessDasherWeeklyTimeSheetResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 5000;
  }

  rpc RunProp22DasherWeeklyTopUps(RunProp22DasherWeeklyTopUpsRequest) returns (RunProp22DasherWeeklyTopUpsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc GetUnmappedMinEarningShiftsForWeek(GetUnmappedMinEarningShiftsForWeekRequest) returns (GetUnmappedMinEarningShiftsForWeekResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc RunNycDasherWeeklyTopUps(RunNycDasherWeeklyTopUpsRequest) returns (RunNycDasherWeeklyTopUpsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc RunBcBill48DasherWeeklyTopUps(RunBcBill48DasherWeeklyTopUpsRequest) returns (RunBcBill48DasherWeeklyTopUpsResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc GetComplianceCodeForDelivery(GetComplianceCodeForDeliveryRequest) returns (GetComplianceCodeForDeliveryResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc CalculatePayAndCreateJobForUnassignedDelivery(CalculatePayAndCreateJobForUnassignedDeliveryRequest) returns (CalculatePayAndCreateJobForUnassignedDeliveryResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc CalculateGroundTruthPayAndCreateJobForUnassignedDelivery(CalculateGroundTruthPayAndCreateJobForUnassignedDeliveryRequest) returns (CalculateGroundTruthPayAndCreateJobForUnassignedDeliveryResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc PublishDasherDeliveryPay(PublishDasherDeliveryPayRequest) returns (PublishDasherDeliveryPayResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc CreateDasherDeliveryPayAndHandleShiftPay(CreateDasherDeliveryPayAndHandleShiftPayRequest) returns (CreateDasherDeliveryPayAndHandleShiftPayResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 2500;
  }

  rpc GetNotificationEligibilityByType(GetNotificationEligibilityByTypeRequest) returns (GetNotificationEligibilityByTypeResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 250;
  }

  rpc GetPayEstimatesByFulfillmentIdBatched(GetPayEstimatesByFulfillmentIdBatchedRequest) returns (GetPayEstimatesByFulfillmentIdBatchedResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 1000;
  }

  rpc GetLitePayTargetBatched(GetLitePayTargetBatchedRequest) returns (GetLitePayTargetBatchedResponse) {
    option (google.api.http) = {get: "/logistics-pay-service/v1/lite_pay_target"};
    option (doordash.api.endpoint) = {
      tier: T1
      lifecycle: DEV
      authorization: [DD_USER]
      target_products: [INTERNAL]
    };
    option (service_client.client_method_config).response_attempt_timeout_millis = 2000;
  }

  rpc CreateDasherPayTarget(CreateDasherPayTargetRequest) returns (CreateDasherPayTargetResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }

  rpc CreateDasherPayTargetDelta(CreateDasherPayTargetDeltaRequest) returns (CreateDasherPayTargetDeltaResponse) {
    option (service_client.client_method_config).response_attempt_timeout_millis = 500;
  }
}

message PublishDasherDeliveryPayRequest {
  google.protobuf.Int64Value id = 1;
  google.protobuf.Int64Value delivery_id = 2;
  google.protobuf.Int64Value assignment_id = 3;
  google.protobuf.Int64Value shift_id = 4;
}

message PublishDasherDeliveryPayResponse {}

message CalculateAndSavePayForAssignmentRequest {
  Assignment assignment = 1;
  google.protobuf.BoolValue is_shadowing = 2;
  google.protobuf.BoolValue use_fallback_calculator = 3;
  PayInputs pay_inputs = 4;
}

message CalculateAndSavePayForAssignmentResponse {
  repeated DasherDeliveryPay dasher_delivery_pays = 1;
}

message CalculateAndSavePayForDeliveryRequest {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value assignment_id = 2;
  google.protobuf.BoolValue is_shadowing = 3;
  PayInputs pay_inputs = 4;
  Assignment assignment = 5; // optional
  repeated delivery_service.core.DeliveryResponse deliveries_in_assignment = 6; // optional
  google.protobuf.BoolValue is_from_deep_red = 7; // optional
  google.protobuf.BoolValue use_fallback_calculator = 8; // optional
}

message CalculateAndSavePayForDeliveryResponse {
  DasherDeliveryPay dasher_delivery_pay = 1;
}

message CalculateAndSavePayEstimateRequest {
  google.protobuf.StringValue fulfillment_id = 1;
  google.protobuf.StringValue fulfillment_type = 2;
}

message CalculateAndSavePayEstimateResponse {
  PayEstimate pay_estimate = 1;
}

message PayEstimate {
  google.protobuf.StringValue fulfillment_id = 1;
  google.protobuf.StringValue fulfillment_type = 2;
  google.protobuf.StringValue delivery_source = 3;
  google.protobuf.StringValue calculation_reason = 4;
  google.protobuf.Timestamp created_at = 5;
  google.protobuf.Int64Value control_pay_target_id = 6;
  // for different pay components namely fair_value_amount, doordash_contribution_amount and base_pay
  // refer https://docs.google.com/presentation/d/1zMBOEdZ1miPggiMFq60MHJQnbyhP6KijMMU6xVBPgjM/edit#slide=id.ga5571989a2_0_32
  google.protobuf.Int32Value fair_value_amount = 7;
  google.protobuf.Int32Value doordash_contribution_amount = 8;
  google.protobuf.Int32Value base_pay = 9;
  // pay shown to the dasher for opportunities
  google.protobuf.Int32Value dasher_offered_pay = 10;
  // flat miles and duration pay component
  google.protobuf.Int32Value d2r_pay = 11;
  // tip amount
  google.protobuf.Int32Value tip_amount = 12;
  // offer_id - one offer can contain one or more deliveries
  google.protobuf.StringValue offer_id = 13;
  google.protobuf.StringValue currency = 14;
  google.protobuf.Int32Value pre_tip_amount = 15;
  google.protobuf.Int32Value capped_tip_amount = 16;
  google.protobuf.Int32Value route_distance_meters = 17;
  google.protobuf.Int32Value incremental_distance_pay = 18;
  google.protobuf.Int32Value incremental_travel_duration_secs = 19;
  google.protobuf.Int32Value incremental_travel_duration_pay = 20;
  google.protobuf.Int32Value dynamic_pay_duration = 21;
  google.protobuf.Int32Value incremental_store_wait_secs = 22;
  google.protobuf.Int32Value incremental_store_wait_duration_pay = 23;
  google.protobuf.Int32Value incremental_dropoff_secs = 24;
  google.protobuf.Int32Value incremental_dropoff_duration_pay = 25;
  google.protobuf.Int32Value effort_duration_secs = 26;
  google.protobuf.Int32Value incremental_effort_pay = 27;
  google.protobuf.Int32Value store_boost = 28;
  google.protobuf.Int32Value redelivery_boost = 29;
  google.protobuf.Int32Value sof_pay_boost = 30;
  google.protobuf.Int32Value order_volume_extra_pay = 31;
  google.protobuf.Int32Value total_boost = 32;
  // Opportunities - offline assignment acceptance bonus
  google.protobuf.Int32Value offline_assignment_acceptance_bonus = 33;
}

// reason for calculating estimated pay
enum CalculationReason {
  UNKNOWN_CALCULATION_REASON = 0;
  INTERNAL = 1;
  SHOW_TO_DASHER = 2;
}

// request to get estimated pay per offer_id
message GetPayEstimateByOfferIdRequest {
  // offer_id - one offer can contain one or more deliveries
  google.protobuf.StringValue offer_id = 1;
  // list of fulfillment_ids and their types
  repeated FulfillmentRequest fulfillment_requests = 2;
  // reason for calculating estimated pay
  CalculationReason calculation_reason = 3;
  // should use cache to fetch estimate
  google.protobuf.BoolValue use_cache = 4;
}

// request to get estimate pay by a list of offer_ids
message GetPayEstimatesByOfferIdsRequest {
  // list of requests to get pay estimate by offer_id
  repeated GetPayEstimateByOfferIdRequest get_pay_estimate_by_offer_id_requests = 1;
}

// list of estimated pay per offer_id and delivery
message GetPayEstimatesByOfferIdsResponse {
  // list of pay estimates per offer_id and delivery_id
  repeated OfferPayEstimateByOfferIdResponse offer_pay_estimate_by_offer_id_responses = 1;
}

message OfferPayEstimateByOfferIdResponse {
  // offer_id - one offer can contain one or more deliveries
  google.protobuf.StringValue offer_id = 1;
  // pay estimates for all the deliveries contained in the offer
  repeated PayEstimate pay_estimates = 2;
}

// fulfillment request
message FulfillmentRequest {
  // can take delivery_id
  google.protobuf.StringValue fulfillment_id = 1;
  // can be set to DELIVERY
  google.protobuf.StringValue fulfillment_type = 2 [deprecated = true];
  // use fulfillment_type_enum
  FulfillmentType fulfillment_type_enum = 3;
}

// offer
message Offer {
  // offer_id - one offer can contain one or more deliveries
  google.protobuf.StringValue offer_id = 1;
  // list of fulfillment_ids and their types
  repeated FulfillmentRequest fulfillment_requests = 2;
  // proposed delivery route for all the deliveries contained in the offer
  repeated DasherRoutePoint proposed_route = 3;
  // offer created at timestamp
  google.protobuf.Timestamp created_at = 4;
  // offer metadata
  OfferMetadata metadata = 5;
}

// offer metadata
message OfferMetadata {
  // source of creation
  google.protobuf.StringValue creation_source = 1;
}

// calculates and saves pay per offer_id for all the deliveries in it
message CalculateAndSavePayEstimateForOfferRequest {
  // offer
  Offer offer = 1;
  // if this is a shadow call
  google.protobuf.BoolValue is_shadowing = 2;
}

// response containing estimated pay per offer_id and delivery_id
message CalculateAndSavePayEstimateForOfferResponse {
  // calculated estimated pay for a offer_id and each delivery
  repeated PayEstimate pay_estimate = 1;
}

message CalculateConditionalPayForDeliveryAssignmentRequest {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value assignment_id = 2;
  // Condition for calculating pay.
  oneof condition_data {
    InstorePhotoData instore_photo_data = 4;
    InstoreAislePhotoData instore_aisle_photo_data = 5;
    InstoreAisleVideoData instore_aisle_video_data = 6;
    ShoppingPerformancePayData shopping_performance_pay_data = 7;
    InStoreMenuPhotoPayData instore_menu_photo_pay_data = 8;
    DsdItemEffortPayData dsd_item_effort_pay_data = 9;
    LongWaitPayData long_wait_pay_data = 11;
    OrderPlacementPayData order_placement_pay_data = 12;
    StoreHoursCollectionPayData store_hours_collection_pay_data = 13;
  }
  google.protobuf.BoolValue is_shadowing = 10;
}

message InstorePhotoData {
  bool opt_in = 1;
}

message InstoreAislePhotoData {
  int32 num_aisles = 1;
}

message InstoreAisleVideoData {
  int32 num_aisles = 1;
}

message CalculateConditionalPayForDeliveryAssignmentResponse {
  ConditionalDasherDeliveryPay conditional_dasher_delivery_pay = 1;
}

message ConditionalDasherDeliveryPay {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  google.protobuf.Int64Value assignment_id = 3;
  oneof condition_data {
    InstorePhotoData instore_photo_data = 4;
    InstoreAislePhotoData instore_aisle_photo_data = 5;
    InstoreAisleVideoData instore_aisle_video_data = 6;
    ShoppingPerformancePayData shopping_performance_pay_data = 9;
    InStoreMenuPhotoPayData instore_menu_photo_pay_data = 12;
    DsdItemEffortPayData dsd_item_effort_pay_data = 15;
    LongWaitPayData long_wait_pay_data = 18;
    OrderPlacementPayData order_placement_pay_data = 21;
    StoreHoursCollectionPayData store_hours_collection_pay_data = 26;
  }
  int32 effort_boost = 7;
  money.MonetaryFields effort_boost_monetary_fields = 8;
  int32 shopping_performance_pay = 10;
  money.MonetaryFields shopping_performance_pay_monetary_fields = 11;
  int32 instore_menu_photo_pay = 13;
  money.MonetaryFields instore_menu_photo_pay_monetary_fields = 14;
  int32 dsd_item_effort_pay = 16;
  money.MonetaryFields dsd_item_effort_pay_monetary_fields = 17;
  int32 long_wait_pay = 19;
  money.MonetaryFields long_wait_pay_monetary_fields = 20;
  int32 order_placement_pay = 22;
  money.MonetaryFields order_placement_pay_monetary_fields = 23;
  int32 instore_menu_photo_max_pay = 24;
  money.MonetaryFields instore_menu_photo_max_pay_monetary_fields = 25;
  int32 store_hours_collection_pay = 27;
  money.MonetaryFields store_hours_collection_pay_monetary_fields = 28;
}

message GetDasherDeliveryPayRequest {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  google.protobuf.BoolValue use_cache = 3;
  google.protobuf.Int64Value shift_delivery_assignment_id = 4;
}

message GetDasherDeliveryPayResponse {
  DasherDeliveryPay dasher_delivery_pay = 1;
}

message BulkGetDasherDeliveryPayRequest {
  repeated GetDasherDeliveryPayRequest requests = 1;
}

message BulkGetDasherDeliveryPayResponse {
  repeated GetDasherDeliveryPayResponse dasher_delivery_pays = 1;
}

message GetConditionalPayForDeliveryAssignmentRequest {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  google.protobuf.Int64Value assignment_id = 3;
  ConditionalPayType conditional_pay_type = 4;
}

message GetConditionalPayForDeliveryAssignmentResponse {
  ConditionalDasherDeliveryPay conditional_dasher_delivery_pay = 1;
}

message GetStartingPointPayConfigurationRequest {
  int64 starting_point_id = 1;
  google.protobuf.Timestamp active_time = 2;
  google.protobuf.Int64Value dasher_id = 3;
}

message GetStartingPointPayConfigurationResponse {
  int32 pay_per_active_hour = 1;
  money.MonetaryFields pay_per_active_hour_monetary_fields = 2;
  int32 min_pay_per_active_hour = 3;
  money.MonetaryFields min_pay_per_active_hour_monetary_fields = 4;
  int32 max_pay_per_active_hour = 5;
  money.MonetaryFields max_pay_per_active_hour_monetary_fields = 6;
  int32 active_time_to_dash_time_percent = 7;
}

message BatchGetStartingPointPayConfigurationRequest {
  // Starting point IDs to fetch the pay configuration.
  repeated int64 starting_point_ids = 1;
}

message BatchGetStartingPointPayConfigurationResponse {
  // A map from the starting point ID to its pay configuration.
  map<int64, GetStartingPointPayConfigurationResponse> responses = 1;
}

message AdjustStoreBoostRequest {
  // DD store id
  google.protobuf.Int64Value store_id = 1;
  // Boost amount in the minimal unit based on currency. This can be a negative value
  google.protobuf.Int32Value boost_amount = 2;
  // Currency used for boost
  Currency currency = 3;
  // Merchant's shopping protocol for the boost
  ShoppingProtocol shopping_protocol = 4;
  // Reason to activate the store boost
  StoreBoostActivateReason activate_reason = 5;
  // Second appended on the StoreBoost creation time as the final expiration time.
  // Ignore this field if this is a permanent boost.
  google.protobuf.Int32Value expiration_sec = 6;
}

message AdjustStoreBoostResponse {
  StoreBoost store_boost = 1;
}

message DisableStoreBoostRequest {
  google.protobuf.Int64Value id = 1;
  google.protobuf.StringValue uuid = 2;
  google.protobuf.Int64Value store_id = 3;
  google.protobuf.Timestamp expire_after = 4;
}

message DisableStoreBoostResponse {
  StoreBoost store_boost = 1;
}

message StoreBoost {
  // Integer id
  google.protobuf.Int64Value id = 1;
  // UUID
  google.protobuf.StringValue uuid = 2;
  // DD store id
  google.protobuf.Int64Value store_id = 3;
  // Boost amount in the minimal unit based on currency. This can be a negative value
  google.protobuf.Int32Value boost_amount = 4;
  // Currency used for boost
  Currency currency = 5;
  // Merchant's shopping protocol for the boost
  ShoppingProtocol shopping_protocol = 6;
  // Reason of store boost activation
  StoreBoostActivateReason activate_reason = 7;
  // Timestamp when StoreBoost is created
  google.protobuf.Timestamp created_at = 8;
  // Timestamp when StoreBoost is updated
  google.protobuf.Timestamp updated_at = 9;
  // Timestamp when StoreBoost will be expired
  google.protobuf.Timestamp expire_after = 10;
  // Boost monetary fields
  money.MonetaryFields boost_amount_monetary_fields = 11;
}

enum Currency {
  UNKNOWN_CURRENCY = 0;
  USD = 1;
  CAD = 2;
  AUD = 3;
  NZD = 4;
}

enum ShoppingProtocol {
  UNKNOWN_PROTOCOL = 0;
  MERCHANT_PICK = 1;
  DASHER_PICK = 2;
  SHOPPER_PICK = 3;
}

enum StoreBoostActivateReason {
  UNKNOWN_REASON = 0;
  REQUESTED_BY_OPERATIONS = 1;
}

message AddPayTargetFromCSVRequest {
  map<string, string> row = 1;
}

message AddPayTargetFromCSVResponse {
  reserved 1;
  reserved "pay_target";
}

message AddPayTargetDeltaFromCSVRequest {
  map<string, string> row = 1;
}

message AddPayTargetDeltaFromCSVResponse {
  PayTargetDelta pay_target_delta = 1;
}

message DisablePayTargetFromCSVRequest {
  map<string, string> row = 1;
}

message DisablePayTargetFromCSVResponse {
  PayTarget pay_target = 1;
}

message DisablePayTargetDeltaFromCSVRequest {
  map<string, string> row = 1;
}

message DisablePayTargetDeltaFromCSVResponse {
  PayTargetDelta pay_target_delta = 1;
}

message PayTarget {
  google.protobuf.Int64Value id = 1;
  google.protobuf.Timestamp start_time = 2;
  google.protobuf.Timestamp end_time = 3;
  google.protobuf.Timestamp updated_at = 4;
  int64 starting_point_id = 5;
  google.protobuf.StringValue delivery_source = 6;
  repeated float tip_additive_distance_pay_per_km = 7;
  repeated float tip_additive_time_pay_per_minute = 8;
  repeated float tip_additive_accept_bonus_hot_potato_coefficient = 9;
  repeated float effort_pay_per_min = 10;
  repeated float store_wait_pay_per_min = 11;
  google.protobuf.StringValue tip_additive_tiered_distance_pay_per_km = 12;
  google.protobuf.Int32Value tip_additive_max_accept_bonus = 13;
  google.protobuf.Int32Value tip_additive_min_base_pay = 14;
  google.protobuf.Int32Value tip_additive_batch_min_base_pay = 15;
  google.protobuf.Int32Value tip_additive_multi_delivery_min_base_pay = 16;
  SettingsByPayModelSubtype tip_additive_settings_by_pay_model_subtype = 17;
  google.protobuf.Int32Value dasher_offered_tip_cap_threshold = 18;
  google.protobuf.Int32Value dasher_offered_tip_cap_rounding_amount = 19;
  google.protobuf.FloatValue tip_cap_distance_factor = 20;
  google.protobuf.Int32Value local_mandate_pay = 21;
  LocalMandatePayReason local_mandate_pay_reason = 22;
  repeated google.protobuf.StringValue dasher_pay_target_delta_ids = 23;
  repeated google.protobuf.StringValue experiment_ids = 24;
  repeated float dropoff_time_pay_per_min = 25;
  google.protobuf.StringValue target_hourly_amounts = 26;
  google.protobuf.Int64Value min_delivery_pay = 27;
  google.protobuf.StringValue tip_additive_accept_bonus_probability_decline_coefficient = 28;
  google.protobuf.StringValue tip_additive_time_pay_per_hour = 29;
  google.protobuf.StringValue tip_additive_consumer_zero_tip_boost_config = 30;
  google.protobuf.StringValue experiment_id = 31;
  google.protobuf.Int64Value dasher_wait_in_store_max_pay = 32;
  google.protobuf.Int64Value dasher_wait_in_store_minimum_wait_mins_threshold = 33;
  google.protobuf.Int64Value dasher_wait_in_store_pay_per_minute = 34;
  google.protobuf.StringValue tip_additive_tiered_time_pay_per_minute = 35;
  google.protobuf.Int64Value toll_pay = 36;
  google.protobuf.StringValue pay_per_active_minute = 37;
  google.protobuf.StringValue currency = 38;
  google.protobuf.StringValue actual_pay_category_coefficients = 39;
  google.protobuf.StringValue tip_suggestion_effort_coefficients = 40;
  google.protobuf.StringValue tip_suggestion_guardrails = 41;
  google.protobuf.StringValue tip_suggestion_range_adjustments = 42;
  google.protobuf.StringValue tip_suggestion_thresholds = 43;
  google.protobuf.StringValue audit_info = 44;
  google.protobuf.FloatValue underpay_bonus_multiplier = 45;
  google.protobuf.FloatValue decline_bonus_multiplier = 46;
  google.protobuf.StringValue model_config = 47;
  google.protobuf.FloatValue ottl_cxl_prediction_threshold = 48;
  google.protobuf.StringValue instore_menu_photo_pay = 49;
  google.protobuf.Int64Value offer_level_min_base_pay = 50;
  google.protobuf.StringValue long_wait_pay_tiers = 51;
  google.protobuf.StringValue compliance_pay_info = 52;
  google.protobuf.StringValue experimental_config = 53;
  google.protobuf.StringValue instore_menu_photo_pay_tiers = 54;
  google.protobuf.StringValue tiered_estimated_duration_pay_per_min = 55;
  google.protobuf.StringValue tiered_estimated_distance_boost_pay_per_km = 56;
  google.protobuf.Int64Value offline_assignment_acceptance_bonus = 57;
  google.protobuf.StringValue effort_config = 58;
  google.protobuf.StringValue metadata = 59;
}

message PayTargetDelta {
  google.protobuf.Int64Value id = 1;
  google.protobuf.Timestamp start_time = 2;
  google.protobuf.Timestamp end_time = 3;
  google.protobuf.Timestamp updated_at = 4;
  int64 starting_point_id = 5;
  google.protobuf.StringValue experiment_id = 6;
  google.protobuf.StringValue delivery_source = 7;
  repeated float tip_additive_time_pay_per_minute = 8;
  repeated float tip_additive_distance_pay_per_km = 9;
  repeated float effort_pay_per_min = 10;
  repeated float store_wait_pay_per_min = 11;
  google.protobuf.Int32Value tip_additive_min_base_pay = 12;
  google.protobuf.Int32Value tip_additive_batch_min_base_pay = 13;
  google.protobuf.Int32Value tip_additive_multi_delivery_min_base_pay = 14;
  repeated float tip_additive_accept_bonus_hot_potato_coefficient = 15;
  google.protobuf.Int32Value tip_additive_max_accept_bonus = 16;
  SettingsByPayModelSubtypeDelta tip_additive_settings_by_pay_model_subtype = 17;
  google.protobuf.Int32Value dasher_offered_tip_cap_threshold = 18;
  google.protobuf.Int32Value dasher_offered_tip_cap_rounding_amount = 19;
  google.protobuf.FloatValue tip_cap_distance_factor = 20;
  google.protobuf.Int32Value local_mandate_pay = 21;
  LocalMandatePayReason local_mandate_pay_reason = 22;
  google.protobuf.StringValue tip_additive_tiered_distance_pay_per_km = 23;
  repeated float dropoff_time_pay_per_min = 24;
  google.protobuf.Int64Value toll_pay = 25;
  google.protobuf.StringValue pay_per_active_minute = 26;
  google.protobuf.StringValue actual_pay_category_coefficients = 27;
  google.protobuf.StringValue tip_suggestion_effort_coefficients = 28;
  google.protobuf.StringValue tip_suggestion_guardrails = 29;
  google.protobuf.StringValue tip_suggestion_range_adjustments = 30;
  google.protobuf.StringValue tip_suggestion_thresholds = 31;
  google.protobuf.StringValue audit_info = 32;
  google.protobuf.FloatValue decline_bonus_multiplier = 33;
  google.protobuf.FloatValue underpay_bonus_multiplier = 34;
  google.protobuf.StringValue model_config = 35;
  google.protobuf.FloatValue ottl_cxl_prediction_threshold = 36;
  google.protobuf.StringValue instore_menu_photo_pay = 37;
  google.protobuf.Int64Value offer_level_min_base_pay = 38;
  google.protobuf.StringValue long_wait_pay_tiers = 39;
  google.protobuf.StringValue compliance_pay_info = 40;
  google.protobuf.StringValue experimental_config = 41;
  google.protobuf.StringValue instore_menu_photo_pay_tiers = 42;
  google.protobuf.StringValue tiered_estimated_duration_pay_per_min = 43;
  google.protobuf.StringValue tiered_estimated_distance_boost_pay_per_km = 44;
  google.protobuf.Int64Value offline_assignment_acceptance_bonus = 45;
  google.protobuf.StringValue metadata = 46;
}

message SettingsByPayModelSubtype {
  RoundPay round_pay = 1;
  DistanceTranslation distance_translation_v8 = 2;
  RedeliveryBoost redelivery_boost = 3;
  repeated float effort_pay_coefficients = 4;
  google.protobuf.FloatValue store_boost_coefficient = 5;
  google.protobuf.Int32Value tip_cap_num_assign_threshold = 6;
  google.protobuf.Int32Value tip_cap_tip_amount_per_decline = 7;
  google.protobuf.FloatValue tip_cap_package_multiplier = 8;
  google.protobuf.FloatValue non_car_pay_per_km_multiplier = 9;
}

message RoundPay {
  int32 round_up_intercept = 1;
  int32 round_unit = 2;
}

message DistanceTranslation {
  repeated float decline_probability_thresholds = 1;
}

message RedeliveryBoost {
  int32 boost_amount = 1;
}

message SettingsByPayModelSubtypeDelta {
  RoundPayDelta round_pay = 1;
  DistanceTranslationDelta distance_translation_v8 = 2;
  RedeliveryBoostDelta redelivery_boost = 3;
  repeated google.protobuf.FloatValue effort_pay_coefficients = 4;
  google.protobuf.FloatValue store_boost_coefficient = 5;
  google.protobuf.Int32Value tip_cap_num_assign_threshold = 6;
  google.protobuf.Int32Value tip_cap_tip_amount_per_decline = 7;
  google.protobuf.FloatValue tip_cap_package_multiplier = 8;
  google.protobuf.FloatValue non_car_pay_per_km_multiplier = 9;
}

message RoundPayDelta {
  google.protobuf.Int32Value round_up_intercept = 1;
  google.protobuf.Int32Value round_unit = 2;
}

message DistanceTranslationDelta {
  repeated google.protobuf.FloatValue decline_probability_thresholds = 1;
}

message RedeliveryBoostDelta {
  google.protobuf.Int32Value boost_amount = 1;
}

enum LocalMandatePayReason {
  UNKNOWN_LOCAL_MANDATE_REASON = 0;
  HAZARD_PAY = 1;
}

enum ExperimentType {
  UNKNOWN_COMPOSITE_TYPE = 0;
  PAY_EXPERIMENT = 1;
  TIP_EXPERIMENT = 2;
}

message CompositeDasherPayTargetComponents {
  google.protobuf.Int64Value starting_point_id = 1;
  google.protobuf.StringValue delivery_source = 2;
  google.protobuf.StringValue pay_experiment_ids = 3;
  google.protobuf.StringValue dpt_experiment_ids = 4;
  ExperimentType experiment_type = 5;
}

message DasherDeliveryPayCalculation {
  google.protobuf.Int64Value shift_id = 1;
  google.protobuf.Int64Value assignment_id = 2;
  google.protobuf.Int64Value delivery_id = 3;
  google.protobuf.Int64Value dasher_delivery_pay_id = 4;
  google.protobuf.Int32Value delivery_count = 5;
  google.protobuf.Int32Value acceptance_bonus_hot_potato = 6;
  google.protobuf.FloatValue acceptance_bonus_decline_probability = 7;
  google.protobuf.StringValue store_wait_time_seconds_per_store = 8;
  google.protobuf.Int32Value total_order_items = 9;
  google.protobuf.Int32Value rl_acceptance_bonus_hot_potato = 10;
  google.protobuf.StringValue pay_inputs = 11;
  google.protobuf.StringValue active_dasher_pay_campaigns_ids = 12;
  google.protobuf.Timestamp created_at = 13;
  google.protobuf.Int32Value base_pay_floor = 14;
  google.protobuf.Int32Value incremental_dropoff_secs = 15;
  google.protobuf.Int32Value shift_sp_to_dropoff_straight_line_distance = 16;
  google.protobuf.FloatValue estimated_distance_boost_multiplier = 17;
  google.protobuf.Int64Value dasher_id = 19;
}

message DasherDeliveryPay {
  google.protobuf.Int64Value shift_id = 1;
  google.protobuf.Int64Value delivery_id = 2;
  string currency = 3;
  google.protobuf.BoolValue is_on_dynamic_pay_model = 4;
  int32 fair_value_amount = 5;
  int32 doordash_contribution_amount = 6;
  int32 tip_amount = 7;
  int32 pre_tip_amount = 8;
  int32 post_tip_amount = 9;
  int32 sos_amount = 10;
  int32 sof_pay_boost = 11;
  int32 store_boost = 12;
  int32 reassignment_boost = 13;
  int32 setup_pay = 14;
  int32 on_time_bonus = 15;
  int32 order_volume_extra_pay = 16;
  google.protobuf.Int64Value dasher_pay_target_id = 17;
  int32 dasher_min_pay = 18;
  int32 base_pay = 19;
  int32 doordash_additional_pay = 20;
  int32 dynamic_pay_duration_seconds = 21;
  google.protobuf.Int64Value shift_delivery_assignment_id = 22;
  string pay_model_type = 23;
  string pay_model_version = 24;
  int32 dasher_offered_guaranteed_pay = 25;
  int32 actual_pay = 26;
  int32 cancellation_pay = 27;
  int32 preferred_pay = 28;
  float percentage_multiplier = 29;
  int32 cash_advance = 30;
  int32 adjustment_amount = 31;
  google.protobuf.Timestamp tip_pending_until = 32;
  int32 num_unassigns_for_delivery = 33;
  int32 route_distance_meters = 34;
  int32 acceptance_bonus = 35;
  int32 peak_pay = 36;
  int32 num_assign = 37;
  float predicted_conflat_hot_potato = 38;
  float predicted_decline_probability = 39;
  float consumer_zero_tip_percent = 40;
  int32 dasher_offered_pay = 41;
  int32 capped_tip_amount = 42;
  float pay_tip_cap_distance_factor = 43;
  int32 capped_tip_amount_without_distance = 44;
  int32 dasher_wait_in_store_pay = 45;
  int32 redelivery_boost = 46;
  int32 rule_based_pay_adjustment = 47;
  int32 dasher_wait_in_store_seconds = 48;
  google.protobuf.Int64Value id = 49;
  google.protobuf.Timestamp created_at = 50;
  google.protobuf.Int32Value local_mandate_pay = 51;
  google.protobuf.StringValue local_mandate_pay_reason = 52;
  google.protobuf.Int64Value dropoff_starting_point_dasher_pay_target_id = 53;
  google.protobuf.Int64Value dasher_delivery_pay_experiment_info_id = 54;
  money.MonetaryFields fair_value_amount_monetary_fields = 55;
  money.MonetaryFields doordash_contribution_amount_monetary_fields = 56;
  money.MonetaryFields tip_amount_monetary_fields = 57;
  money.MonetaryFields pre_tip_amount_monetary_fields = 58;
  money.MonetaryFields post_tip_amount_monetary_fields = 59;
  money.MonetaryFields sos_amount_monetary_fields = 60;
  money.MonetaryFields sof_pay_boost_monetary_fields = 61;
  money.MonetaryFields store_boost_monetary_fields = 62;
  money.MonetaryFields reassignment_boost_monetary_fields = 63;
  money.MonetaryFields setup_pay_monetary_fields = 64;
  money.MonetaryFields on_time_bonus_monetary_fields = 65;
  money.MonetaryFields order_volume_extra_pay_monetary_fields = 66;
  money.MonetaryFields dasher_min_pay_monetary_fields = 67;
  money.MonetaryFields base_pay_monetary_fields = 68;
  money.MonetaryFields doordash_additional_pay_monetary_fields = 69;
  money.MonetaryFields dasher_offered_guaranteed_pay_monetary_fields = 70;
  money.MonetaryFields actual_pay_monetary_fields = 71;
  money.MonetaryFields cancellation_pay_monetary_fields = 72;
  money.MonetaryFields preferred_pay_monetary_fields = 73;
  money.MonetaryFields cash_advance_monetary_fields = 74;
  money.MonetaryFields adjustment_amount_monetary_fields = 75;
  money.MonetaryFields acceptance_bonus_monetary_fields = 76;
  money.MonetaryFields peak_pay_monetary_fields = 77;
  money.MonetaryFields dasher_offered_pay_monetary_fields = 78;
  money.MonetaryFields capped_tip_amount_monetary_fields = 79;
  money.MonetaryFields capped_tip_amount_without_distance_monetary_fields = 80;
  money.MonetaryFields dasher_wait_in_store_pay_monetary_fields = 81;
  money.MonetaryFields redelivery_boost_monetary_fields = 82;
  money.MonetaryFields rule_based_pay_adjustment_monetary_fields = 83;
  money.MonetaryFields local_mandate_pay_monetary_fields = 84;
  google.protobuf.StringValue calculation_reason = 85;
  repeated google.protobuf.StringValue applied_experiment_names = 86;
  int32 incremental_travel_duration_secs = 87;
  int32 dasher_offered_pay_per_active_hour = 88;
  money.MonetaryFields dasher_offered_pay_per_active_hour_monetary_fields = 89;
  ActualPayCategory actual_pay_category = 91;
  int32 effort_boost = 92;
  money.MonetaryFields effort_boost_monetary_fields = 93;
  int32 shopping_performance_pay = 94;
  money.MonetaryFields shopping_performance_pay_monetary_fields = 95;
  int32 conditional_pay = 96;
  money.MonetaryFields conditional_pay_monetary_fields = 97;
  int32 instore_menu_photo_pay = 98;
  money.MonetaryFields instore_menu_photo_pay_monetary_fields = 99;
  int32 streak_pay = 100;
  money.MonetaryFields streak_pay_monetary_fields = 101;
  int32 dsd_item_effort_pay = 102;
  money.MonetaryFields dsd_item_effort_pay_monetary_fields = 103;
  google.protobuf.Int32Value dasher_offered_peak_pay_per_active_hour = 104;
  money.MonetaryFields dasher_offered_peak_pay_per_active_hour_monetary_fields = 105;
  google.protobuf.StringValue delivery_source = 106;
  ActiveTimeInfo active_time_info = 107;
  int32 long_wait_pay = 108;
  money.MonetaryFields long_wait_pay_monetary_fields = 109;
  int32 compliance_adjustment_pay = 110;
  money.MonetaryFields compliance_adjustment_pay_monetary_fields = 111;
  int32 order_placement_pay = 112;
  money.MonetaryFields order_placement_pay_monetary_fields = 113;
  int32 new_dasher_learning_bonus = 114;
  money.MonetaryFields new_dasher_learning_bonus_monetary_fields = 115;
  int32 existing_dasher_bonus = 116;
  money.MonetaryFields existing_dasher_bonus_monetary_fields = 117;
  int32 distance_peak_pay = 118;
  money.MonetaryFields distance_peak_pay_monetary_fields = 119;
  int32 cross_sp_dropoff_bonus = 120;
  money.MonetaryFields cross_sp_dropoff_bonus_monetary_fields = 121;
  int32 estimated_duration_bonus = 122;
  money.MonetaryFields estimated_duration_bonus_monetary_fields = 123;
  int32 store_hours_collection_pay = 124;
  money.MonetaryFields store_hours_collection_pay_monetary_fields = 125;
  google.protobuf.Int32Value d2r_pay = 126;
  int32 estimated_distance_boost = 127;
  money.MonetaryFields estimated_distance_boost_monetary_fields = 128;
  reserved 129;
  reserved "offline_assignment_acceptance_bonus";
  int32 offline_assignment_acceptance_bonus_value = 130;
  reserved 131;
  reserved "offline_assignment_acceptance_bonus_monetary_fields";
  int32 pro_shopper_incentive_pay = 132;
  money.MonetaryFields pro_shopper_incentive_pay_monetary_fields = 133;
  money.MonetaryFields offline_assignment_acceptance_bonus_value_monetary_fields = 134;
}

message Assignment {
  google.protobuf.Int64Value assignment_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  repeated DeliveryPackageMapping delivery_package_mappings = 3;
  google.protobuf.Int64Value dasher_id = 4;
  google.protobuf.Timestamp created_at = 5;
  google.protobuf.BoolValue is_multi_delivery_assignment = 6;
  google.protobuf.BoolValue is_stacked = 7;
  int32 delivery_count = 8;
  Location location_on_assignment = 9;
  repeated DasherRoutePoint previous_route = 10;
  repeated DasherRoutePoint proposed_route = 11;
  google.protobuf.DoubleValue predicted_decline_probability = 12;
  google.protobuf.Timestamp accepted_at = 13;
  google.protobuf.Timestamp unassigned_at = 14;
  google.protobuf.BoolValue is_unassign_excused = 15;
}

message DeliveryPackageMapping {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  google.protobuf.Int64Value assignment_id = 3;
  float predicted_decline_probability = 4;
  google.protobuf.Timestamp accepted_at = 5;
  google.protobuf.Timestamp unassigned_at = 6;
  google.protobuf.StringValue unassign_reason_text = 7;
  google.protobuf.BoolValue is_unassign_excused = 8;
  google.protobuf.Timestamp actual_dropoff_time = 9;
  google.protobuf.Int64Value delivery_package_id = 10;
  google.protobuf.Int64Value batch_id = 11;
}

message ActiveTimeInfo {
  int32 actual_active_time = 1;
  int32 estimated_active_time = 2;
  int32 fraud_adjusted_active_time = 3;
}

message Location {
  float lat = 1;
  float lng = 2;
}

message DasherRoutePointEstimationInfo {
  string name = 1;
  int64 value = 2;
  string source = 3;
}

message DasherRoutePoint {
  string type = 1;
  int64 delivery_id = 2;
  float lat = 3;
  float lng = 4;
  repeated DasherRoutePointEstimationInfo estimations = 5;
  google.protobuf.Timestamp calculated_time = 6;
  DasherCostType dasher_cost_type = 7 [deprecated = true];
  TravelPayType travel_pay_type = 8;
}

enum DasherCostType {
  DASHER_COST_TYPE_UNKNOWN = 0;
  DASHER_COST_TYPE_ACTIVE = 1;
  DASHER_COST_TYPE_INACTIVE = 2;
}

enum TravelPayType {
  TRAVEL_PAY_TYPE_UNKNOWN = 0;
  TRAVEL_PAY_TYPE_ACTIVE = 1;
  TRAVEL_PAY_TYPE_INACTIVE = 2;
}

message PayInputs {
  reserved 1;
  reserved "doordash_contribution_amount";
  // delivery id to assignment context data map
  map<int64, AssignmentContextData> assignment_context_data = 2;
}

message PayInput {
  google.protobuf.Int32Value component_value = 1;
  google.protobuf.Int32Value minimum_value = 2;
  google.protobuf.Int32Value maximum_value = 3;
}

enum ActualPayCategory {
  UNKNOWN = 0;
  NONE = 1;
  HIGH = 2;
  // marked order as DSD_PRO_SHOPPER_HIGH when the order is done by pro shopper and the pay is high
  DSD_PRO_SHOPPER_HIGH = 3;
}

message DeliveryAssignmentPayInput {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  google.protobuf.Int64Value assignment_id = 3;
  google.protobuf.BoolValue is_dx_in_store_pic_opt_in = 4;
  oneof input_data {
    InstorePhotoData instore_photo_data = 5;
    InstoreAislePhotoData instore_aisle_photo_data = 6;
    InstoreAisleVideoData instore_aisle_video_data = 7;
    AssignmentContextData assignment_context_data = 8;
    ShoppingPerformancePayData shopping_performance_pay_data = 9;
    InStoreMenuPhotoPayData instore_menu_photo_pay_data = 10;
    CancellationContextData cancellation_context_data = 11;
    DsdItemEffortPayData dsd_item_effort_pay_data = 12;
    LongWaitPayData long_wait_pay_data = 13;
    OrderPlacementPayData order_placement_pay_data = 14;
    StoreHoursCollectionPayData store_hours_collection_pay_data = 15;
  }
}

message CancellationContextData {
  google.protobuf.StringValue dasher_job_reason = 1;
}

message AssignmentContextData {
  google.protobuf.StringValue assignment_run_id = 1;
  repeated deep_red.CandidateShiftInfo candidate_shift_info = 2;
}

message AddDeliveryAssignmentPayInputRequest {
  DeliveryAssignmentPayInput delivery_assignment_pay_input = 1;
}

message AddDeliveryAssignmentPayInputResponse {}

message GetLatestDeliveryAssignmentPayInputRequest {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  PayInputType.InputType input_type = 3;
}

message GetLatestDeliveryAssignmentPayInputResponse {
  DeliveryAssignmentPayInput delivery_assignment_pay_input = 1;
}

message PayInputType {
  enum InputType {
    UNKNOWN_TYPE = 0;
    ASSIGNMENT_CONTEXT = 1;
    INSTORE_DX_PIC_OPT_IN = 2;
    INSTORE_PHOTO = 3;
    INSTORE_AISLE_PHOTO = 4;
    INSTORE_AISLE_VIDEO = 5;
    SHOPPING_PERFOMANCE_PAY = 6;
    INSTORE_MENU_PHOTO_PAY = 7;
    CANCELLATION_CONTEXT = 8;
    DSD_ITEM_EFFORT_PAY = 9;
    LONG_WAIT_PAY = 10;
    ORDER_PLACEMENT_PAY = 11;
    STORE_HOURS_COLLECTION_PAY = 12;
  }
}

enum DasherPayTag {
  UNKNOWN_PAY_TAG = 0;
  DRIVE = 1;
  CNG_GROCERY_DASHER_PICK = 2;
  CNG_CONVENIENCE_DASHER_PICK = 3;
  DRIVE_SOF_RX = 4;
  DRIVE_NON_RX_NO_TIP = 5;
  MARKETPLACE = 6;
  DRIVE_LOF = 7;
  ALCOHOL = 8;
  NEIGHBOURHOOD_DELIVERY_SUGGESTION_OVERRIDES = 9;
  CX_AFF_EPIC_2 = 10;
  EXPRESS = 11;
}

message AddDeliveryPayInputRequest {
  DeliveryPayInput delivery_pay_input = 1;
}

message DeliveryPayInput {
  google.protobuf.Int64Value delivery_id = 1;
  repeated DasherPayTag dasher_pay_tags = 2;
}

message AddDeliveryPayInputResponse {}

message GetLatestActiveStoreBoostRequest {
  google.protobuf.Int64Value store_id = 1;
}

message GetLatestActiveStoreBoostResponse {
  StoreBoost store_boost = 1;
}

message GetTipSuggestionContextRequest {
  common.ConsumerLocation consumer_location = 1;
  common.StoreLocation store_location = 2;
  google.protobuf.StringValue consumer_id = 3;
  google.protobuf.StringValue consumer_time_zone = 4;
  repeated DasherPayTag dasher_pay_tags = 5;
  google.protobuf.Int32Value subtotal = 6;
  google.protobuf.Int32Value total = 7;
  google.protobuf.Int64Value r2c_distance_meters = 8;
  google.protobuf.StringValue order_cart_id = 9;
  google.protobuf.Int64Value business_id = 10;
  google.protobuf.Int64Value business_vertical_id = 11;
  google.protobuf.BoolValue is_cx_first_order = 12;
  google.protobuf.StringValue platform = 13;
  common.ClientDeviceCtx clientDeviceCtx = 14;
  FlatTipOverride flat_tip_override = 15;
}

// to determine if and what flat tip type to use
message FlatTipOverride {
  google.protobuf.BoolValue should_use_flat_tip_suggestions = 1;
  TipSuggestionsType tip_suggestions_type = 2;
}

// Type for tip suggestions.
enum TipSuggestionsType {
  // unspecified -- follow the default logic for determining tip suggestions type
  TIP_SUGGESTIONS_TYPE_UNSPECIFIED = 0;
  // percentage-based tip suggestions
  TIP_SUGGESTIONS_TYPE_PERCENTAGE = 1;
  // dollar-amount-based tip suggestions
  TIP_SUGGESTIONS_TYPE_AMOUNT = 2;
}

message GetTipSuggestionContextResponse {
  money.TipSuggestionType tip_type = 1;
  repeated int32 values = 2;
  google.protobuf.Int32Value default_tip_index = 3;
}

message TipSuggestionCalculation {
  google.protobuf.Int64Value consumer_submarket_id = 1;
  google.protobuf.Int64Value store_starting_point_id = 2;
  google.protobuf.Int64Value consumer_id = 3;
  google.protobuf.StringValue consumer_time_zone = 4;
  google.protobuf.StringValue dasher_pay_tags = 5;
  google.protobuf.Int32Value subtotal = 6;
  google.protobuf.Int32Value total = 7;
  google.protobuf.Int64Value r2c_distance_meters = 8;
  google.protobuf.StringValue tip_type = 9;
  google.protobuf.StringValue values = 10;
  google.protobuf.Int64Value dasher_pay_target_id = 11;
  google.protobuf.StringValue order_cart_id = 12;
  google.protobuf.Int64Value business_id = 13;
  google.protobuf.Int64Value business_vertical_id = 14;
  google.protobuf.StringValue delivery_source = 15;
}

message ShoppingPerformancePayData {
  EligibilityStatus eligibility_status = 1;
}

message InStoreMenuPhotoPayData {
  EligibilityStatus eligibility_status = 1;
  // Item count as a percentage of total items in the menu for that store
  google.protobuf.Int32Value item_count_percentage = 2;
}

message LongWaitPayData {
  // Long wait pay eligibility status
  EligibilityStatus eligibility_status = 1;
  // Current wait time in seconds for the given dasher, this would determine the pay data
  google.protobuf.Int32Value wait_time = 2;
}

message OrderPlacementPayData {
  EligibilityStatus eligibility_status = 1;
}

message StoreHoursCollectionPayData {
  // Store hours collection pay eligibility status
  EligibilityStatus eligibility_status = 1;
  // Store hours collection event date - in format YYYY-MM-DD
  google.protobuf.StringValue event_date = 2;
  // Store hours collection event name
  google.protobuf.StringValue event_name = 3;
}

// PayData related to item based effort pay for DSD order. e.g. bulky/heavy item
message DsdItemEffortPayData {
  // weight unit
  google.protobuf.StringValue weight_unit = 1;
  // total weight of the order
  google.protobuf.FloatValue total_weight = 2;
  // max weight of the item
  google.protobuf.FloatValue max_item_weight = 3;
  // number of the heavy items
  google.protobuf.Int32Value heavy_item_count = 4;
}

enum EligibilityStatus {
  UNKNOWN_ELIGIBILITY_STATUS = 0;
  NOT_ELIGIBLE = 1;
  ELIGIBLE = 2;
}

enum ConditionalPayType {
  UNKNOWN_CONDITIONAL_PAY_TYPE = 0;
  INSTORE_DX_PIC_OPT_IN = 1;
  INSTORE_PHOTO = 2;
  INSTORE_AISLE_PHOTO = 3;
  INSTORE_AISLE_VIDEO = 4;
  SHOPPING_PERFORMANCE_PAY = 5;
  INSTORE_MENU_PHOTO_PAY = 6;
  DSD_ITEM_EFFORT_PAY = 7;
  LONG_WAIT_PAY = 8;
  ORDER_PLACEMENT_PAY = 9;
  STORE_HOURS_COLLECTION_PAY = 10;
}

message CalculatePostCheckoutTipSuggestionDetailsRequest {
  google.protobuf.StringValue order_cart_id = 1;
  google.protobuf.StringValue consumer_id = 2;
  common.ClientDeviceCtx request_ctx = 3;
  string locale = 4;
  TipMessagingType tip_messaging_type = 5;
}

enum TipMessagingType {
  TIP_MESSAGING_TYPE_UNKNOWN = 0;
  TIP_MESSAGING_TYPE_POST_CHECKOUT = 1;
  TIP_MESSAGING_TYPE_POST_DELIVERY = 2;
  TIP_MESSAGING_TYPE_POST_DELIVERY_RATINGS = 3;
}

message CalculatePostCheckoutTipSuggestionDetailsResponse {
  google.protobuf.BoolValue is_post_tipping_enabled = 1;
  google.protobuf.StringValue add_tip_prompt = 2;
  google.protobuf.BoolValue is_post_tip_active = 3;
  repeated TipSuggestionDetails tip_suggestion_details = 4;
}

message TipSuggestionDetails {
  money.TipRecipient tip_recipient = 1;
  money.TipSuggestionType tip_suggestion_type = 2;
  google.protobuf.Int32Value default_tip_index = 3;
  repeated money.MonetaryFields monetary_values = 4;
  money.MonetaryFields pre_checkout_tip_monetary_fields = 5;
  TipMessaging tip_messaging = 6;
  TipMessaging custom_tip_messaging = 7;
}

message TipMessaging {
  string title = 1;
  string description = 2;
  string tip_disclaimer = 3;
  string image_url = 4;
  string message_title = 5;
  string message_body = 6;
}

message CalculateAndUpdateMinEarningsForShiftRequest {
  google.protobuf.Int64Value shift_id = 1;
  reserved 2; // is_shadowing is deprecated
  reserved "is_shadowing";
  google.protobuf.BoolValue blocking = 3;
}

message CalculateAndUpdateMinEarningsForShiftResponse {}

message AddMinEarningDeliveryRequest {
  google.protobuf.Int64Value shift_id = 1;
  google.protobuf.Int64Value delivery_id = 2;
  google.protobuf.Timestamp delivery_event_timestamp = 3;
  google.protobuf.Int64Value assignment_id = 4;
}

message AddMinEarningDeliveryResponse {
  google.protobuf.Int64Value shift_id = 1;
  google.protobuf.Int64Value delivery_id = 2;
  google.protobuf.Int64Value assignment_id = 4;
}

message AddZipCodePayTargetFromCSVRequest {
  map<string, string> row = 1;
}

message AddZipCodePayTargetFromCSVResponse {
  google.protobuf.BoolValue warn = 1;
}

message AdjustMinEarningsRequest {
  map<string, string> row = 1;
}

message AdjustMinEarningsResponse {}

message GetDasherWeeklyTimeSheetRequest {
  google.protobuf.Int64Value dasher_id = 1;
  google.protobuf.Timestamp week_start_date = 2;
  google.protobuf.Timestamp week_end_date = 3;
  google.protobuf.BoolValue fetch_test = 4;
}

message GetDasherWeeklyTimeSheetResponse {
  google.protobuf.StringValue uuid = 1;
  google.protobuf.Int64Value dasher_id = 2;
  google.protobuf.Timestamp week_start_date = 3;
  google.protobuf.Timestamp week_end_date = 4;
  google.protobuf.Int32Value minimum_wage_amount = 5;
  google.protobuf.Int32Value mileage_reimbursement_amount = 6;
  google.protobuf.Int32Value total_minimum_earnings_amount = 7;
  google.protobuf.Int32Value delivery_earnings_amount = 8;
  google.protobuf.Int32Value bonus_earnings_amount = 9;
  google.protobuf.Int32Value total_doordash_earnings_amount = 10;
  google.protobuf.Int32Value top_up_amount = 11;
  google.protobuf.StringValue compliance_code = 12;
  google.protobuf.Int32Value distinct_active_time = 13;
  google.protobuf.BoolValue is_test = 14;
}

message GetDasherWeeklyTimeSheetsInTimeRangeRequest {
  google.protobuf.Int64Value dasher_id = 1;
  google.protobuf.Timestamp week_start_date_lower_bound = 2;
  google.protobuf.Timestamp week_start_date_upper_bound = 3;
  google.protobuf.BoolValue fetch_test = 4;
}

message GetDasherWeeklyTimeSheetsInTimeRangeResponse {
  repeated GetDasherWeeklyTimeSheetResponse dasher_weekly_time_sheets = 1;
}

message ProcessDasherWeeklyTimeSheetRequest {
  google.protobuf.StringValue dasherWeeklyTimeSheetUuid = 1;
  google.protobuf.BoolValue blocking = 2;
  google.protobuf.BoolValue shadow_mode = 3;
  reserved 4;
  reserved "skip_re_process_time_sheet";
  reserved 5;
  reserved "skip_top_up_job_creation";
  google.protobuf.BoolValue allow_fill_in_time_sheet = 6;
  google.protobuf.BoolValue allow_top_up_job_creation = 7;
}

message ProcessDasherWeeklyTimeSheetResponse {}

message RunProp22DasherWeeklyTopUpsRequest {
  google.protobuf.BoolValue process_all = 1 [deprecated = true];
  google.protobuf.BoolValue shadow_mode = 2;
  google.protobuf.Timestamp week_start_date = 3;
  google.protobuf.Timestamp week_end_date = 4;
}

message RunProp22DasherWeeklyTopUpsResponse {}

message RunNycDasherWeeklyTopUpsRequest {
  google.protobuf.BoolValue process_all = 1 [deprecated = true];
  google.protobuf.BoolValue shadow_mode = 2;
  google.protobuf.Timestamp week_start_date = 3;
  google.protobuf.Timestamp week_end_date = 4;
}

message RunNycDasherWeeklyTopUpsResponse {}

message RunBcBill48DasherWeeklyTopUpsRequest {
  google.protobuf.BoolValue shadow_mode = 1;
  google.protobuf.Timestamp week_start_date = 2;
  google.protobuf.Timestamp week_end_date = 3;
  reserved 4;
  reserved "skip_re_process_time_sheet";
  reserved 5;
  reserved "skip_top_up_job_creation";
  google.protobuf.BoolValue allow_fill_in_time_sheet = 6;
  google.protobuf.BoolValue allow_top_up_job_creation = 7;
}

message RunBcBill48DasherWeeklyTopUpsResponse {}

message GetUnmappedMinEarningShiftsForWeekRequest {
  google.protobuf.Timestamp week_start_date = 1;
  google.protobuf.Timestamp week_end_date = 2;
  google.protobuf.Int64Value limit = 3;
  google.protobuf.Int64Value seed_shift_id = 4;
}

message GetUnmappedMinEarningShiftsForWeekResponse {
  repeated google.protobuf.Int64Value shift_ids = 1;
}

message CalculatePayAndCreateJobForUnassignedDeliveryRequest {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  google.protobuf.BoolValue is_shadowing = 3;
}

message CalculatePayAndCreateJobForUnassignedDeliveryResponse {
  google.protobuf.Int64Value dasher_job_id = 1;
}

message CalculateGroundTruthPayAndCreateJobForUnassignedDeliveryRequest {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  google.protobuf.BoolValue is_shadowing = 3;
}

message CalculateGroundTruthPayAndCreateJobForUnassignedDeliveryResponse {
  google.protobuf.Int64Value dasher_job_id = 1;
}

message ActiveTimeAdjustmentCalculation {
  google.protobuf.Int64Value assignment_id = 1;
  google.protobuf.Int64Value delivery_id = 2;
  google.protobuf.Int64Value shift_id = 3;
  google.protobuf.StringValue delivery_assignment_type = 4;
  google.protobuf.StringValue rule_bucket = 5;
  google.protobuf.StringValue fraud_coefficients = 6;
  google.protobuf.StringValue fraud_detection_inputs = 7;
  google.protobuf.Int64Value estimated_dat_seconds = 8;
  google.protobuf.Int64Value calculated_dat_seconds = 9;
  google.protobuf.Int64Value adjusted_dat_seconds = 10;
  google.protobuf.StringValue rule_reason_code = 11;
  google.protobuf.StringValue batch_fraud_detection_inputs = 12;
}

message CreateDasherDeliveryPayAndHandleShiftPayRequest {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  google.protobuf.Int64Value shift_delivery_assignment_id = 3;
  google.protobuf.BoolValue is_shadowing = 4;
}

message CreateDasherDeliveryPayAndHandleShiftPayResponse {}

message GetNotificationEligibilityByTypeRequest {
  google.protobuf.Int64Value delivery_id = 1;
  NotificationType notification_type = 2;
}

message GetNotificationEligibilityByTypeResponse {
  google.protobuf.BoolValue is_eligible = 1;
}

enum NotificationType {
  UNKNOWN_NOTIFICATION_TYPE = 0;
  DX_IDLE_AT_MX_BEFORE_PICKUP = 1;
  DX_IDLE_AT_MX_AFTER_PICKUP = 2;
}

message GetComplianceCodeForDeliveryRequest {
  google.protobuf.Int64Value delivery_id = 1;
}

message GetComplianceCodeForDeliveryResponse {
  ComplianceCode compliance_code = 1;
}

enum ComplianceCode {
  UNKNOWN_COMPLIANCE_CODE = 0;
  PROP22 = 1;
  NYC = 2;
  SEATTLE = 3;
  BC_BILL48 = 4;
  COLORADO = 5;
}

message GetPayEstimatesByFulfillmentIdBatchedRequest {
  repeated FulfillmentInfo fulfillment_infos = 1;
}

message GetPayEstimatesByFulfillmentIdBatchedResponse {
  repeated PayEstimate pay_estimates = 1;
}

message FulfillmentInfo {
  google.protobuf.StringValue fulfillment_id = 1;
  FulfillmentType fulfillment_type = 2;
  google.protobuf.Int64Value starting_point_id = 3;
}

message GetLitePayTargetBatchedRequest {
  repeated google.protobuf.Int64Value pay_target_ids = 1;
}

message GetLitePayTargetBatchedResponse {
  repeated LitePayTarget lite_pay_targets = 1;
}

message LitePayTarget {
  google.protobuf.Int64Value id = 1;
  google.protobuf.Int64Value starting_point_id = 2;
  repeated float tip_additive_time_pay_per_minute = 3;
  repeated float effort_pay_per_min = 4;
  repeated float store_wait_pay_per_min = 5;
  google.protobuf.StringValue tip_additive_tiered_distance_pay_per_km = 6;
  google.protobuf.Int32Value offer_level_min_base_pay = 7;
  repeated float dropoff_time_pay_per_min = 8;
  google.protobuf.Int32Value tip_additive_min_base_pay = 9;
  google.protobuf.Int32Value tip_additive_multi_delivery_min_base_pay = 10;
}

enum FulfillmentType {
  UNKNOWN_FULFILLMENT_TYPE = 0;
  DELIVERY = 1;
  TASK = 2;
}

message DasherDeliveryPayCalculatedComponents {
  google.protobuf.Int64Value shift_id = 1;
  google.protobuf.Int64Value assignment_id = 2;
  google.protobuf.Int64Value delivery_id = 3;
  google.protobuf.Int64Value dasher_delivery_pay_id = 4;
  google.protobuf.Int64Value base_pay = 5;
  google.protobuf.Int64Value fair_value_amount = 6;
  google.protobuf.Int64Value acceptance_bonus = 7;
  google.protobuf.Int64Value total_boost = 8;
  google.protobuf.Int64Value proactive_acceptance_bonus = 9;
  google.protobuf.Int64Value arm_undersupply_bonus = 10;
  google.protobuf.Int64Value ottl_cxl_bonus = 11;
  google.protobuf.Int64Value underpay_bonus = 12;
  google.protobuf.Int64Value incremental_travel_duration_pay = 13;
  google.protobuf.Int64Value incremental_distance_pay = 14;
  google.protobuf.Int64Value incremental_store_wait_duration_pay = 15;
  google.protobuf.Int64Value incremental_dropoff_duration_pay = 16;
  google.protobuf.Int64Value effort_pay = 17;
  google.protobuf.Int64Value incremental_travel_duration_secs = 18;
  google.protobuf.Int64Value route_distance_meters = 19;
  google.protobuf.Int64Value incremental_store_wait_secs = 20;
  google.protobuf.Int64Value incremental_dropoff_secs = 21;
  google.protobuf.Int64Value effort_duration_secs = 22;
  google.protobuf.Int32Value base_pay_floor = 23;
  google.protobuf.Timestamp created_at = 24;
  google.protobuf.Int64Value actual_pay = 25;
  google.protobuf.Int64Value tip_amount = 26;
  google.protobuf.Int64Value pre_tip_amount = 27;
  google.protobuf.Int64Value capped_tip_amount = 28;
  google.protobuf.Int64Value doordash_contribution_amount = 29;
  google.protobuf.Int64Value peak_pay = 30;
  google.protobuf.Int64Value distance_peak_pay = 31;
  google.protobuf.Int64Value streak_pay = 32;
  google.protobuf.Int64Value sos_amount = 33;
  google.protobuf.Int64Value local_mandate_pay = 34;
  google.protobuf.Int64Value on_time_bonus = 35;
  google.protobuf.Int64Value setup_pay = 36;
  google.protobuf.Int64Value conditional_pay = 37;
  google.protobuf.Int64Value cross_sp_dropoff_bonus = 38;
  google.protobuf.Int64Value compliance_adjustment_pay = 39;
  google.protobuf.Int64Value estimated_duration_bonus = 40;
  google.protobuf.Int64Value estimated_distance_boost = 41;
  google.protobuf.Int64Value new_dasher_learning_bonus = 42;
  google.protobuf.Int64Value existing_dasher_bonus = 43;
  google.protobuf.Int64Value offline_assignment_acceptance_bonus = 44;
  google.protobuf.Int64Value pro_shopper_incentive_pay = 45;
}

message DasherWeeklyTimeSheetCalculation {
  google.protobuf.StringValue uuid = 1;
  google.protobuf.Int64Value dasher_id = 2;
  google.protobuf.Timestamp week_start_date = 3;
  google.protobuf.Timestamp week_end_date = 4;
  google.protobuf.Int32Value minimum_wage_amount = 5;
  google.protobuf.Int32Value mileage_reimbursement_amount = 6;
  google.protobuf.Int32Value total_minimum_earnings_amount = 7;
  google.protobuf.Int32Value delivery_earnings_amount = 8;
  google.protobuf.Int32Value bonus_earnings_amount = 9;
  google.protobuf.Int32Value total_doordash_earnings_amount = 10;
  google.protobuf.Int32Value top_up_amount = 11;
  google.protobuf.StringValue compliance_code = 12;
  google.protobuf.Int32Value distinct_active_time = 13;
  google.protobuf.BoolValue is_test = 14;
}

message DeliveryMinEarningInfoCalculation {
  google.protobuf.Int64Value delivery_id = 1;
  google.protobuf.Int64Value shift_id = 2;
  google.protobuf.Int64Value assignment_id = 3;
  google.protobuf.Int32Value adjusted_distinct_active_time = 4;
  google.protobuf.Int32Value previous_distinct_active_time = 5;
  google.protobuf.Int64Value active_time_start_time = 6;
  google.protobuf.Int64Value active_time_end_time = 7;
  google.protobuf.StringValue mileage_type = 8;
  google.protobuf.FloatValue estimated_mileage = 9;
  google.protobuf.FloatValue odometer_mileage = 10;
  google.protobuf.Int32Value mileage_reimbursement_amount = 11;
  google.protobuf.Int32Value delivery_earnings_amount = 12;
  google.protobuf.BoolValue ignore_fraud_detection = 13;
  google.protobuf.Timestamp first_leave_cx_geofence_time = 14;
  google.protobuf.Timestamp last_leave_cx_geofence_time = 15;
  google.protobuf.Timestamp enter_cx_geofence_time = 16;
  google.protobuf.Timestamp mark_delivered_not_allowed_time = 17;
  google.protobuf.Int32Value num_offline_pings = 18;
  google.protobuf.BoolValue has_mark_delivered_by_auto_close_out_shift_event = 19;
  google.protobuf.BoolValue has_delivery_cancelled_by_auto_close_out_shift_event = 20;
}

message ModelDecision {
  string use_case = 1;
  string predictor_name = 2;
  string predicted_objective = 3;
  string decision_output = 4;
  string identifiers = 5;
}

message CreateDasherPayTargetRequest {
  PayTarget pay_target = 1;
}

message CreateDasherPayTargetResponse {
  PayTarget pay_target = 1;
}

message CreateDasherPayTargetDeltaRequest {
  PayTargetDelta pay_target_delta = 1;
}

message CreateDasherPayTargetDeltaResponse {
  PayTargetDelta pay_target_delta = 1;
}
